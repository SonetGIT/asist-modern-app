<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bioc="http://bpmn.io/schema/bpmn/biocolor/1.0" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" id="Definitions_12ajdup" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="4.3.0">
  <bpmn:process id="TESTprocess_22d2b2bf-ce8d-41d3-9b97-5bd8b112f2ce" name="SaveApplication" isExecutable="true">
    <bpmn:startEvent id="Event_1g2bu8t">
      <bpmn:outgoing>Flow_0x8t51l</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:scriptTask id="Activity_0yx6lyq" name="Variables" scriptFormat="Javascript">
      <bpmn:incoming>Flow_1jc7g29</bpmn:incoming>
      <bpmn:outgoing>Flow_0qij95u</bpmn:outgoing>
      <bpmn:script>execution.setVariable("taskType", "showApplicationForm")
execution.setVariable("formDefId", "4F9F2AE2-7180-4850-A3F4-5FB47313BCC0")
execution.setVariable("buttons", "ApplicationButtons")
execution.setVariable("gridFormDefId", "null")
execution.setVariable("docList", "null")
execution.setVariable("gridForm", "null")
execution.setVariable("gridFormButtons", "null")
execution.setVariable("tableFormButtons", "null")
execution.setVariable("userAction", "null")
execution.setVariable("formType", "edit")</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:serviceTask id="Activity_0n3sgd2" name="GenerateNewNumber">
      <bpmn:extensionElements>
        <camunda:connector>
          <camunda:inputOutput>
            <camunda:inputParameter name="url">${asistRESTApi}/ASIST-MODERN-API/api/Document/GetDocNewNumber?userId=${userId}</camunda:inputParameter>
            <camunda:inputParameter name="method">GET</camunda:inputParameter>
            <camunda:inputParameter name="headers">
              <camunda:map>
                <camunda:entry key="Content-Type">application/json</camunda:entry>
              </camunda:map>
            </camunda:inputParameter>
            <camunda:outputParameter name="generatedNo">
              <camunda:script scriptFormat="Javascript">S(response).prop("Value")</camunda:script>
            </camunda:outputParameter>
          </camunda:inputOutput>
          <camunda:connectorId>http-connector</camunda:connectorId>
        </camunda:connector>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0qij95u</bpmn:incoming>
      <bpmn:outgoing>Flow_0c710jx</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="Activity_0fn457t" name="API GET Detail Form">
      <bpmn:extensionElements>
        <camunda:connector>
          <camunda:inputOutput>
            <camunda:inputParameter name="url">${metaRESTApi}/api/metadata/GetByDefId?defid=${formDefId}</camunda:inputParameter>
            <camunda:inputParameter name="method">GET</camunda:inputParameter>
            <camunda:inputParameter name="headers">
              <camunda:map>
                <camunda:entry key="Content-Type">application/json</camunda:entry>
              </camunda:map>
            </camunda:inputParameter>
            <camunda:outputParameter name="form">
              <camunda:script scriptFormat="Javascript">S(response).prop("data").toString()</camunda:script>
            </camunda:outputParameter>
          </camunda:inputOutput>
          <camunda:connectorId>http-connector</camunda:connectorId>
        </camunda:connector>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_02hgkgd</bpmn:incoming>
      <bpmn:outgoing>Flow_09ios1f</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:scriptTask id="Activity_1g8eaen" name="Task" scriptFormat="Javascript">
      <bpmn:incoming>Flow_09ios1f</bpmn:incoming>
      <bpmn:outgoing>Flow_1bdpfy4</bpmn:outgoing>
      <bpmn:script>var variables = {
session_id : user_session_id,
taskType: taskType,
selectedDoc: selectedDoc,
process_id: process_id,
formType: formType,
userAction: userAction,
docList: docList,
buttons: buttons,
size: size,
page: page,
userRole: userRole,
tabLabel: tabLabel,
userId: userId,
docId: docId,
gridFormButtons: gridFormButtons,
tableFormButtons: tableFormButtons,
form: form,
gridForm: gridForm,
totalCount: totalCount
}
execution.setVariable("taskVariables", JSON.stringify(variables))</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:userTask id="Activity_1naobg1" name="SHOW Application Form">
      <bpmn:extensionElements>
        <camunda:taskListener class="com.camunda.RabbitMQ.Enqueue" event="create">
          <camunda:field name="taskVariables">
            <camunda:expression>${taskVariables}</camunda:expression>
          </camunda:field>
        </camunda:taskListener>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1bdpfy4</bpmn:incoming>
      <bpmn:outgoing>Flow_1womaw9</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:exclusiveGateway id="Gateway_17xqb5c">
      <bpmn:incoming>Flow_1womaw9</bpmn:incoming>
      <bpmn:outgoing>Flow_1abdadr</bpmn:outgoing>
      <bpmn:outgoing>Flow_01i84jq</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:endEvent id="Event_1iwo1cm">
      <bpmn:incoming>Flow_1abdadr</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:scriptTask id="Activity_1t6kkxr" name="Variables" scriptFormat="Javascript">
      <bpmn:incoming>Flow_1iwywtn</bpmn:incoming>
      <bpmn:outgoing>Flow_0r5dk6r</bpmn:outgoing>
      <bpmn:script>execution.setVariable("taskType", "showAppStateForm")
execution.setVariable("formDefId", "547BBA55-2281-4388-A1FC-EE890168AC2D")
execution.setVariable("buttons", "AppStateButtons")
execution.setVariable("gridFormDefId", "null")
execution.setVariable("docList", "null")
execution.setVariable("gridForm", "null")
execution.setVariable("gridFormButtons", "null")
execution.setVariable("tableFormButtons", "null")
execution.setVariable("userAction", "null")
execution.setVariable("formType", "edit")</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:serviceTask id="Activity_16oi8l1" name="API GET Detail Form">
      <bpmn:extensionElements>
        <camunda:connector>
          <camunda:inputOutput>
            <camunda:inputParameter name="url">${metaRESTApi}/api/metadata/GetByDefId?defid=${formDefId}</camunda:inputParameter>
            <camunda:inputParameter name="method">GET</camunda:inputParameter>
            <camunda:inputParameter name="headers">
              <camunda:map>
                <camunda:entry key="Content-Type">application/json</camunda:entry>
              </camunda:map>
            </camunda:inputParameter>
            <camunda:outputParameter name="form">
              <camunda:script scriptFormat="Javascript">S(response).prop("data").toString()</camunda:script>
            </camunda:outputParameter>
          </camunda:inputOutput>
          <camunda:connectorId>http-connector</camunda:connectorId>
        </camunda:connector>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0r5dk6r</bpmn:incoming>
      <bpmn:outgoing>Flow_1qk78kd</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:scriptTask id="Activity_1x5w43h" name="Task" scriptFormat="Javascript">
      <bpmn:incoming>Flow_1qk78kd</bpmn:incoming>
      <bpmn:outgoing>Flow_1ofo96f</bpmn:outgoing>
      <bpmn:script>var variables = {
session_id : user_session_id,
taskType: taskType,
selectedDoc: selectedDoc,
process_id: process_id,
formType: formType,
userAction: userAction,
docList: docList,
buttons: buttons,
size: size,
page: page,
userRole: userRole,
tabLabel: tabLabel,
userId: userId,
docId: docId,
gridFormButtons: gridFormButtons,
tableFormButtons: tableFormButtons,
form: form,
gridForm: gridForm,
totalCount: totalCount,
application: application
}
execution.setVariable("taskVariables", JSON.stringify(variables))</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:userTask id="Activity_02fxrl3" name="SHOW AppStateForm">
      <bpmn:extensionElements>
        <camunda:taskListener class="com.camunda.RabbitMQ.Enqueue" event="create">
          <camunda:field name="taskVariables">
            <camunda:expression>${taskVariables}</camunda:expression>
          </camunda:field>
        </camunda:taskListener>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1ofo96f</bpmn:incoming>
      <bpmn:outgoing>Flow_1oufk97</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:scriptTask id="Activity_19gtofp" name="Variables" scriptFormat="Javascript">
      <bpmn:incoming>Flow_0c710jx</bpmn:incoming>
      <bpmn:outgoing>Flow_02hgkgd</bpmn:outgoing>
      <bpmn:script>var newNo = {
"name": "No", 
"type": "Text", 
"value": generatedNo
}
var attrs = S(selectedDoc).prop("attributes").append(newNo)

var newSelDoc = S(selectedDoc).prop("attributes", attrs)
execution.setVariable("selectedDoc", newSelDoc.toString())</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:endEvent id="Event_13vbi7s">
      <bpmn:incoming>Flow_1gnmd65</bpmn:incoming>
      <bpmn:incoming>Flow_1d7y8ba</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:serviceTask id="Activity_0kny4si" name="CheckPerson">
      <bpmn:extensionElements>
        <camunda:connector>
          <camunda:inputOutput>
            <camunda:inputParameter name="url">${asistRESTApi}/ASIST-MODERN-API/api/Document/CheckPerson?personId=${personId}&amp;regDateRef=${regDateRef}&amp;userId=${userId}</camunda:inputParameter>
            <camunda:inputParameter name="method">GET</camunda:inputParameter>
            <camunda:inputParameter name="headers">
              <camunda:map>
                <camunda:entry key="Content-Type">application/json</camunda:entry>
              </camunda:map>
            </camunda:inputParameter>
            <camunda:outputParameter name="Response">
              <camunda:script scriptFormat="Javascript">S(response)</camunda:script>
            </camunda:outputParameter>
          </camunda:inputOutput>
          <camunda:connectorId>http-connector</camunda:connectorId>
        </camunda:connector>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_01i84jq</bpmn:incoming>
      <bpmn:outgoing>Flow_12qeh7a</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:callActivity id="Activity_0mzi2km" name="Call Toast" calledElement="CallToast">
      <bpmn:extensionElements>
        <camunda:in variables="all" />
        <camunda:in sourceExpression="Успех" target="toastTextSuccess" />
        <camunda:in source="text" target="toastTextError" />
        <camunda:in source="checkResult" target="Response" />
        <camunda:in source="status" target="status" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1jwemx1</bpmn:incoming>
    </bpmn:callActivity>
    <bpmn:exclusiveGateway id="Gateway_1jp63po">
      <bpmn:incoming>Flow_13gcxa1</bpmn:incoming>
      <bpmn:outgoing>Flow_1iwywtn</bpmn:outgoing>
      <bpmn:outgoing>Flow_1jwemx1</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:scriptTask id="Activity_0yqiaen" name="Variables" scriptFormat="Javascript">
      <bpmn:incoming>Flow_12qeh7a</bpmn:incoming>
      <bpmn:outgoing>Flow_13gcxa1</bpmn:outgoing>
      <bpmn:script>var status = 
execution.setVariable("status", Response.prop("Status").toString())
execution.setVariable("text", Response.prop("Value").toString())</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:exclusiveGateway id="Gateway_1tfndbr">
      <bpmn:incoming>Flow_1oufk97</bpmn:incoming>
      <bpmn:outgoing>Flow_1gnmd65</bpmn:outgoing>
      <bpmn:outgoing>Flow_1i3tws5</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:scriptTask id="Activity_06ixvc6" name="document" scriptFormat="Javascript">
      <bpmn:incoming>Flow_1i3tws5</bpmn:incoming>
      <bpmn:outgoing>Flow_0sdztsv</bpmn:outgoing>
      <bpmn:script>var newApp = S(saveApp).prop("ApplicationState", S(document))
execution.setVariable("document", newApp.toString())</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:sequenceFlow id="Flow_0qij95u" sourceRef="Activity_0yx6lyq" targetRef="Activity_0n3sgd2" />
    <bpmn:sequenceFlow id="Flow_0c710jx" sourceRef="Activity_0n3sgd2" targetRef="Activity_19gtofp" />
    <bpmn:sequenceFlow id="Flow_02hgkgd" sourceRef="Activity_19gtofp" targetRef="Activity_0fn457t" />
    <bpmn:sequenceFlow id="Flow_09ios1f" sourceRef="Activity_0fn457t" targetRef="Activity_1g8eaen" />
    <bpmn:sequenceFlow id="Flow_1bdpfy4" sourceRef="Activity_1g8eaen" targetRef="Activity_1naobg1" />
    <bpmn:sequenceFlow id="Flow_1womaw9" sourceRef="Activity_1naobg1" targetRef="Gateway_17xqb5c" />
    <bpmn:sequenceFlow id="Flow_1abdadr" name="cancel" sourceRef="Gateway_17xqb5c" targetRef="Event_1iwo1cm">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">#{userAction  == "cancel" }</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_01i84jq" name="next" sourceRef="Gateway_17xqb5c" targetRef="Activity_0kny4si">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">#{userAction  == "next" }</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_1iwywtn" name="true" sourceRef="Gateway_1jp63po" targetRef="Activity_1t6kkxr">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">#{status == "true"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0r5dk6r" sourceRef="Activity_1t6kkxr" targetRef="Activity_16oi8l1" />
    <bpmn:sequenceFlow id="Flow_1qk78kd" sourceRef="Activity_16oi8l1" targetRef="Activity_1x5w43h" />
    <bpmn:sequenceFlow id="Flow_1ofo96f" sourceRef="Activity_1x5w43h" targetRef="Activity_02fxrl3" />
    <bpmn:sequenceFlow id="Flow_1oufk97" sourceRef="Activity_02fxrl3" targetRef="Gateway_1tfndbr" />
    <bpmn:sequenceFlow id="Flow_1gnmd65" name="cancel" sourceRef="Gateway_1tfndbr" targetRef="Event_13vbi7s">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">#{userAction  == "cancel" }</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_12qeh7a" sourceRef="Activity_0kny4si" targetRef="Activity_0yqiaen" />
    <bpmn:sequenceFlow id="Flow_1jwemx1" name="false" sourceRef="Gateway_1jp63po" targetRef="Activity_0mzi2km">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">#{status == "false"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_13gcxa1" sourceRef="Activity_0yqiaen" targetRef="Gateway_1jp63po" />
    <bpmn:sequenceFlow id="Flow_1i3tws5" name="saveAppStateDoc" sourceRef="Gateway_1tfndbr" targetRef="Activity_06ixvc6">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">#{userAction  == "saveAppStateDoc" }</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0sdztsv" sourceRef="Activity_06ixvc6" targetRef="Activity_1ywzxy4" />
    <bpmn:serviceTask id="Activity_1guc4vi" name="API GET GetDocumentById">
      <bpmn:extensionElements>
        <camunda:connector>
          <camunda:inputOutput>
            <camunda:inputParameter name="url">${asistRESTApi}/ASIST-MODERN-API/api/Document/GetDocumentById/${docId}?userId=${userId}</camunda:inputParameter>
            <camunda:inputParameter name="method">GET</camunda:inputParameter>
            <camunda:inputParameter name="headers">
              <camunda:map>
                <camunda:entry key="Content-Type">application/json</camunda:entry>
              </camunda:map>
            </camunda:inputParameter>
            <camunda:outputParameter name="selectedDoc">
              <camunda:script scriptFormat="Javascript">S(response).toString()</camunda:script>
            </camunda:outputParameter>
          </camunda:inputOutput>
          <camunda:connectorId>http-connector</camunda:connectorId>
        </camunda:connector>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1mdvb2e</bpmn:incoming>
      <bpmn:outgoing>Flow_1r52kkw</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:scriptTask id="Activity_0qkglvb" name="Task" scriptFormat="Javascript">
      <bpmn:incoming>Flow_1kjjmwe</bpmn:incoming>
      <bpmn:outgoing>Flow_1czpvuy</bpmn:outgoing>
      <bpmn:script>var variables = {
session_id : user_session_id,
taskType: taskType,
selectedDoc: selectedDoc,
process_id: process_id,
formType: formType,
userAction: userAction,
docList: docList,
buttons: buttons,
size: size,
page: page,
userRole: userRole,
tabLabel: tabLabel,
userId: userId,
docId: docId,
gridFormButtons: gridFormButtons,
tableFormButtons: tableFormButtons,
form: form,
gridForm: gridForm,
totalCount: totalCount
}
execution.setVariable("taskVariables", JSON.stringify(variables))</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:userTask id="Activity_0dluxgh" name="SHOW Application + AppS Form">
      <bpmn:extensionElements>
        <camunda:taskListener class="com.camunda.RabbitMQ.Enqueue" event="create">
          <camunda:field name="taskVariables">
            <camunda:expression>${taskVariables}</camunda:expression>
          </camunda:field>
        </camunda:taskListener>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1czpvuy</bpmn:incoming>
      <bpmn:outgoing>Flow_19r9dtd</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="Flow_19r9dtd" sourceRef="Activity_0dluxgh" targetRef="Gateway_182kbbe" />
    <bpmn:sequenceFlow id="Flow_1czpvuy" sourceRef="Activity_0qkglvb" targetRef="Activity_0dluxgh" />
    <bpmn:scriptTask id="Activity_0wm6rbx" name="Get created doc id" scriptFormat="Javascript">
      <bpmn:incoming>Flow_1e5wtb7</bpmn:incoming>
      <bpmn:outgoing>Flow_1smslgg</bpmn:outgoing>
      <bpmn:script>var id = saveDocRes.prop("Value").toString()
var sdocId = id.substring(1, id.length-1)
execution.setVariable("docId", sdocId)
execution.setVariable("appId", sdocId)</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:serviceTask id="Activity_1udfm5f" name="API GET Detail Form">
      <bpmn:extensionElements>
        <camunda:connector>
          <camunda:inputOutput>
            <camunda:inputParameter name="url">${metaRESTApi}/api/metadata/GetByDefId?defid=${formDefId}</camunda:inputParameter>
            <camunda:inputParameter name="method">GET</camunda:inputParameter>
            <camunda:inputParameter name="headers">
              <camunda:map>
                <camunda:entry key="Content-Type">application/json</camunda:entry>
              </camunda:map>
            </camunda:inputParameter>
            <camunda:outputParameter name="form">
              <camunda:script scriptFormat="Javascript">S(response).prop("data").toString()</camunda:script>
            </camunda:outputParameter>
          </camunda:inputOutput>
          <camunda:connectorId>http-connector</camunda:connectorId>
        </camunda:connector>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1r52kkw</bpmn:incoming>
      <bpmn:outgoing>Flow_1kjjmwe</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="Flow_1smslgg" sourceRef="Activity_0wm6rbx" targetRef="Activity_1aftlce" />
    <bpmn:sequenceFlow id="Flow_1r52kkw" sourceRef="Activity_1guc4vi" targetRef="Activity_1udfm5f" />
    <bpmn:sequenceFlow id="Flow_1kjjmwe" sourceRef="Activity_1udfm5f" targetRef="Activity_0qkglvb" />
    <bpmn:exclusiveGateway id="Gateway_182kbbe">
      <bpmn:incoming>Flow_19r9dtd</bpmn:incoming>
      <bpmn:outgoing>Flow_1d7y8ba</bpmn:outgoing>
      <bpmn:outgoing>Flow_0aogij0</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_1d7y8ba" name="cancel" sourceRef="Gateway_182kbbe" targetRef="Event_13vbi7s">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">#{userAction  == "cancel" }</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0aogij0" name="createFamMember" sourceRef="Gateway_182kbbe" targetRef="Activity_0katv3s">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">#{userAction  == "createFamMemDoc" }</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:endEvent id="Event_1ek40k1">
      <bpmn:incoming>Flow_1rv47ts</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:callActivity id="Activity_0katv3s" name="CreatePersonProcess" calledElement="process_08513c7f-90d4-490e-a8ae-ccb8b75d673f">
      <bpmn:extensionElements>
        <camunda:in variables="all" />
        <camunda:out source="personId" target="personId" />
        <camunda:out source="emptyDoc" target="emptyDoc" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0aogij0</bpmn:incoming>
      <bpmn:incoming>Flow_1vfgcun</bpmn:incoming>
      <bpmn:outgoing>Flow_1du9htf</bpmn:outgoing>
    </bpmn:callActivity>
    <bpmn:sequenceFlow id="Flow_1du9htf" sourceRef="Activity_0katv3s" targetRef="Activity_1tdgg2k" />
    <bpmn:callActivity id="Activity_1y2lmuw" name="Find/Create Person" calledElement="process_08513c7f-90d4-490e-a8ae-ccb8b75d673f">
      <bpmn:extensionElements>
        <camunda:in variables="all" />
        <camunda:out source="personId" target="personId" />
        <camunda:out source="emptyDoc" target="emptyDoc" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0x8t51l</bpmn:incoming>
      <bpmn:outgoing>Flow_006qh8e</bpmn:outgoing>
    </bpmn:callActivity>
    <bpmn:sequenceFlow id="Flow_006qh8e" sourceRef="Activity_1y2lmuw" targetRef="Activity_1av5v4u" />
    <bpmn:scriptTask id="Activity_1av5v4u" name="Get created doc id" scriptFormat="Javascript">
      <bpmn:incoming>Flow_006qh8e</bpmn:incoming>
      <bpmn:outgoing>Flow_1jvbbum</bpmn:outgoing>
      <bpmn:script>var Person = {
 "name": "Person",
 "type": "Doc",
 "value": personId
}
var attrs = S(emptyDoc).prop("attributes").append(Person)
var newSelDoc = S(emptyDoc).prop("attributes", attrs)
execution.setVariable("selectedDoc", newSelDoc.toString())</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:sequenceFlow id="Flow_1jvbbum" sourceRef="Activity_1av5v4u" targetRef="Activity_0r16w4x" />
    <bpmn:scriptTask id="Activity_0r16w4x" name="DEF Variables" scriptFormat="Javascript" camunda:resultVariable="taskType">
      <bpmn:incoming>Flow_1jvbbum</bpmn:incoming>
      <bpmn:outgoing>Flow_1jc7g29</bpmn:outgoing>
      <bpmn:script>execution.setVariable("page", "1")
execution.setVariable("size", "10")
execution.setVariable("totalCount", "10")
execution.setVariable("docId", "null")
execution.setVariable("searchBody", "{}")</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:sequenceFlow id="Flow_1jc7g29" sourceRef="Activity_0r16w4x" targetRef="Activity_0yx6lyq" />
    <bpmn:serviceTask id="Activity_1ywzxy4" name="SaveApplication">
      <bpmn:extensionElements>
        <camunda:connector>
          <camunda:inputOutput>
            <camunda:inputParameter name="payload">${document}</camunda:inputParameter>
            <camunda:inputParameter name="url">${asistRESTApi}/ASIST-MODERN-API/api/Document/SaveApplication?userId=${userId}</camunda:inputParameter>
            <camunda:inputParameter name="method">POST</camunda:inputParameter>
            <camunda:inputParameter name="headers">
              <camunda:map>
                <camunda:entry key="Content-Type">application/json</camunda:entry>
              </camunda:map>
            </camunda:inputParameter>
            <camunda:outputParameter name="saveDocRes">
              <camunda:script scriptFormat="Javascript">S(response)</camunda:script>
            </camunda:outputParameter>
          </camunda:inputOutput>
          <camunda:connectorId>http-connector</camunda:connectorId>
        </camunda:connector>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0sdztsv</bpmn:incoming>
      <bpmn:outgoing>Flow_1e5wtb7</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="Flow_1e5wtb7" sourceRef="Activity_1ywzxy4" targetRef="Activity_0wm6rbx" />
    <bpmn:scriptTask id="Activity_1hme9no" name="Variables" scriptFormat="Javascript">
      <bpmn:incoming>Flow_1cm74u2</bpmn:incoming>
      <bpmn:outgoing>Flow_01a5m6q</bpmn:outgoing>
      <bpmn:script>execution.setVariable("docId", appId)</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:serviceTask id="Activity_0nhvl7r" name="API GET GetDocumentById">
      <bpmn:extensionElements>
        <camunda:connector>
          <camunda:inputOutput>
            <camunda:inputParameter name="url">${asistRESTApi}/ASIST-MODERN-API/api/Document/GetDocumentById/${docId}?userId=${userId}</camunda:inputParameter>
            <camunda:inputParameter name="method">GET</camunda:inputParameter>
            <camunda:inputParameter name="headers">
              <camunda:map>
                <camunda:entry key="Content-Type">application/json</camunda:entry>
              </camunda:map>
            </camunda:inputParameter>
            <camunda:outputParameter name="selectedDoc">
              <camunda:script scriptFormat="Javascript">S(response).toString()</camunda:script>
            </camunda:outputParameter>
          </camunda:inputOutput>
          <camunda:connectorId>http-connector</camunda:connectorId>
        </camunda:connector>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0ktnpa4</bpmn:incoming>
      <bpmn:outgoing>Flow_0r177dk</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:scriptTask id="Activity_01ikuk6" name="Task" scriptFormat="Javascript">
      <bpmn:incoming>Flow_01ifbdf</bpmn:incoming>
      <bpmn:outgoing>Flow_1oiv0bp</bpmn:outgoing>
      <bpmn:script>var variables = {
session_id : user_session_id,
taskType: taskType,
selectedDoc: selectedDoc,
process_id: process_id,
formType: formType,
userAction: userAction,
docList: docList,
buttons: buttons,
size: size,
page: page,
userRole: userRole,
tabLabel: tabLabel,
userId: userId,
docId: docId,
gridFormButtons: gridFormButtons,
tableFormButtons: tableFormButtons,
form: form,
gridForm: gridForm,
totalCount: totalCount
}
execution.setVariable("taskVariables", JSON.stringify(variables))</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:userTask id="Activity_1y894g1" name="SHOW Application + AppS Form">
      <bpmn:extensionElements>
        <camunda:taskListener class="com.camunda.RabbitMQ.Enqueue" event="create">
          <camunda:field name="taskVariables">
            <camunda:expression>${taskVariables}</camunda:expression>
          </camunda:field>
        </camunda:taskListener>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1oiv0bp</bpmn:incoming>
      <bpmn:outgoing>Flow_1vfgcun</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:serviceTask id="Activity_1achj0m" name="API GET Detail Form">
      <bpmn:extensionElements>
        <camunda:connector>
          <camunda:inputOutput>
            <camunda:inputParameter name="url">${metaRESTApi}/api/metadata/GetByDefId?defid=${formDefId}</camunda:inputParameter>
            <camunda:inputParameter name="method">GET</camunda:inputParameter>
            <camunda:inputParameter name="headers">
              <camunda:map>
                <camunda:entry key="Content-Type">application/json</camunda:entry>
              </camunda:map>
            </camunda:inputParameter>
            <camunda:outputParameter name="form">
              <camunda:script scriptFormat="Javascript">S(response).prop("data").toString()</camunda:script>
            </camunda:outputParameter>
          </camunda:inputOutput>
          <camunda:connectorId>http-connector</camunda:connectorId>
        </camunda:connector>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0r177dk</bpmn:incoming>
      <bpmn:outgoing>Flow_01ifbdf</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="Flow_0r177dk" sourceRef="Activity_0nhvl7r" targetRef="Activity_1achj0m" />
    <bpmn:sequenceFlow id="Flow_01ifbdf" sourceRef="Activity_1achj0m" targetRef="Activity_01ikuk6" />
    <bpmn:sequenceFlow id="Flow_1oiv0bp" sourceRef="Activity_01ikuk6" targetRef="Activity_1y894g1" />
    <bpmn:scriptTask id="Activity_1mvh4d5" name="DEF Variables" scriptFormat="Javascript" camunda:resultVariable="taskType">
      <bpmn:incoming>Flow_01a5m6q</bpmn:incoming>
      <bpmn:outgoing>Flow_0ktnpa4</bpmn:outgoing>
      <bpmn:script>execution.setVariable("page", "1")
execution.setVariable("size", "10")
execution.setVariable("totalCount", "10")
execution.setVariable("docId", "10c68aff-ba13-4bf5-953f-bc88f1237ec3")
execution.setVariable("appId", "10c68aff-ba13-4bf5-953f-bc88f1237ec3")
execution.setVariable("searchBody", "{}")
execution.setVariable("totalCount", 10)
execution.setVariable("taskType", "showAppStateForm")
execution.setVariable("formDefId", "547BBA55-2281-4388-A1FC-EE890168AC2D")
execution.setVariable("buttons", "AppStateButtons")
execution.setVariable("gridFormDefId", "null")
execution.setVariable("docList", "null")
execution.setVariable("gridForm", "null")
execution.setVariable("gridFormButtons", "null")
execution.setVariable("tableFormButtons", "null")
execution.setVariable("userAction", "null")
execution.setVariable("formType", "edit")</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:sequenceFlow id="Flow_0ktnpa4" sourceRef="Activity_1mvh4d5" targetRef="Activity_0nhvl7r" />
    <bpmn:sequenceFlow id="Flow_0x8t51l" sourceRef="Event_1g2bu8t" targetRef="Activity_1y2lmuw" />
    <bpmn:sequenceFlow id="Flow_1vfgcun" sourceRef="Activity_1y894g1" targetRef="Activity_0katv3s" />
    <bpmn:userTask id="Activity_03sv6p2">
      <bpmn:incoming>Flow_1x860l7</bpmn:incoming>
      <bpmn:outgoing>Flow_1rv47ts</bpmn:outgoing>
      <bpmn:outgoing>Flow_1cm74u2</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:scriptTask id="Activity_1tdgg2k" name="Variables" scriptFormat="Javascript">
      <bpmn:incoming>Flow_1du9htf</bpmn:incoming>
      <bpmn:outgoing>Flow_10vexnr</bpmn:outgoing>
      <bpmn:script>execution.setVariable("taskType", "showFamMemberCreateForm")
execution.setVariable("formDefId", "5387ba50-eb84-4cb9-9fdb-02a7ad88676c")
execution.setVariable("buttons", "FamMemSaveFormBtn")
execution.setVariable("gridFormDefId", "null")
execution.setVariable("docList", "null")
execution.setVariable("gridForm", "null")
execution.setVariable("gridFormButtons", "null")
execution.setVariable("tableFormButtons", "null")
execution.setVariable("userAction", "null")
execution.setVariable("formType", "edit")

var person = {
"name": "Person", 
"type": "Doc", 
"value": personId
}
var attrs = S(emptyDoc).prop("attributes").append(person)

var newSelDoc = S(emptyDoc).prop("attributes", attrs)
execution.setVariable("selectedDoc", newSelDoc.toString())</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:serviceTask id="Activity_0xkhrjk" name="API GET Detail Form">
      <bpmn:extensionElements>
        <camunda:connector>
          <camunda:inputOutput>
            <camunda:inputParameter name="url">${metaRESTApi}/api/metadata/GetByDefId?defid=${formDefId}</camunda:inputParameter>
            <camunda:inputParameter name="method">GET</camunda:inputParameter>
            <camunda:inputParameter name="headers">
              <camunda:map>
                <camunda:entry key="Content-Type">application/json</camunda:entry>
              </camunda:map>
            </camunda:inputParameter>
            <camunda:outputParameter name="form">
              <camunda:script scriptFormat="Javascript">S(response).prop("data").toString()</camunda:script>
            </camunda:outputParameter>
          </camunda:inputOutput>
          <camunda:connectorId>http-connector</camunda:connectorId>
        </camunda:connector>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_10vexnr</bpmn:incoming>
      <bpmn:outgoing>Flow_1vg7to2</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:scriptTask id="Activity_1g8rl73" name="Task" scriptFormat="Javascript">
      <bpmn:incoming>Flow_1vg7to2</bpmn:incoming>
      <bpmn:outgoing>Flow_1c32763</bpmn:outgoing>
      <bpmn:script>var variables = {
session_id : user_session_id,
taskType: taskType,
selectedDoc: selectedDoc,
process_id: process_id,
formType: formType,
userAction: userAction,
docList: docList,
buttons: buttons,
size: size,
page: page,
userRole: userRole,
tabLabel: tabLabel,
userId: userId,
docId: docId,
gridFormButtons: gridFormButtons,
tableFormButtons: tableFormButtons,
form: form,
gridForm: gridForm,
totalCount: totalCount
}
execution.setVariable("taskVariables", JSON.stringify(variables))</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:userTask id="Activity_1k754er" name="SHOW FamMemberCreateForm">
      <bpmn:extensionElements>
        <camunda:taskListener class="com.camunda.RabbitMQ.Enqueue" event="create">
          <camunda:field name="taskVariables">
            <camunda:expression>${taskVariables}</camunda:expression>
          </camunda:field>
        </camunda:taskListener>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1c32763</bpmn:incoming>
      <bpmn:outgoing>Flow_16uss9x</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="Flow_10vexnr" sourceRef="Activity_1tdgg2k" targetRef="Activity_0xkhrjk" />
    <bpmn:sequenceFlow id="Flow_1vg7to2" sourceRef="Activity_0xkhrjk" targetRef="Activity_1g8rl73" />
    <bpmn:sequenceFlow id="Flow_1c32763" sourceRef="Activity_1g8rl73" targetRef="Activity_1k754er" />
    <bpmn:sequenceFlow id="Flow_19mq0rh" name="saveFamMemDoc" sourceRef="Gateway_1p7s6iv" targetRef="Activity_1nzk073">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">#{userAction  == "saveFamMemDoc" }</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:exclusiveGateway id="Gateway_1p7s6iv">
      <bpmn:incoming>Flow_16uss9x</bpmn:incoming>
      <bpmn:outgoing>Flow_19mq0rh</bpmn:outgoing>
      <bpmn:outgoing>Flow_1479krh</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:serviceTask id="Activity_15wuiz0" name="Create document">
      <bpmn:extensionElements>
        <camunda:connector>
          <camunda:inputOutput>
            <camunda:inputParameter name="payload">${document}</camunda:inputParameter>
            <camunda:inputParameter name="url">${asistRESTApi}/ASIST-MODERN-API/api/Document/SaveFamilyMember?appStateId=${appStateId}&amp;userId=${userId}</camunda:inputParameter>
            <camunda:inputParameter name="method">POST</camunda:inputParameter>
            <camunda:inputParameter name="headers">
              <camunda:map>
                <camunda:entry key="Content-Type">application/json</camunda:entry>
              </camunda:map>
            </camunda:inputParameter>
            <camunda:outputParameter name="saveDocRes">
              <camunda:script scriptFormat="Javascript">S(response)</camunda:script>
            </camunda:outputParameter>
          </camunda:inputOutput>
          <camunda:connectorId>http-connector</camunda:connectorId>
        </camunda:connector>
      </bpmn:extensionElements>
      <bpmn:outgoing>Flow_1x860l7</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="Flow_1x860l7" sourceRef="Activity_15wuiz0" targetRef="Activity_03sv6p2" />
    <bpmn:sequenceFlow id="Flow_16uss9x" sourceRef="Activity_1k754er" targetRef="Gateway_1p7s6iv" />
    <bpmn:sequenceFlow id="Flow_1rv47ts" sourceRef="Activity_03sv6p2" targetRef="Event_1ek40k1" />
    <bpmn:sequenceFlow id="Flow_1cm74u2" sourceRef="Activity_03sv6p2" targetRef="Activity_1hme9no" />
    <bpmn:sequenceFlow id="Flow_01a5m6q" sourceRef="Activity_1hme9no" targetRef="Activity_1mvh4d5" />
    <bpmn:scriptTask id="Activity_1aftlce" name="Variables" scriptFormat="Javascript">
      <bpmn:incoming>Flow_1smslgg</bpmn:incoming>
      <bpmn:outgoing>Flow_1mdvb2e</bpmn:outgoing>
      <bpmn:script>execution.setVariable("taskType", "showAppStateForm")
execution.setVariable("formDefId", "547BBA55-2281-4388-A1FC-EE890168AC2D")
execution.setVariable("buttons", "AppStateButtons")
execution.setVariable("gridFormDefId", "null")
execution.setVariable("docList", "null")
execution.setVariable("gridForm", "null")
execution.setVariable("gridFormButtons", "null")
execution.setVariable("tableFormButtons", "null")
execution.setVariable("userAction", "null")
execution.setVariable("formType", "edit")</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:sequenceFlow id="Flow_1mdvb2e" sourceRef="Activity_1aftlce" targetRef="Activity_1guc4vi" />
    <bpmn:endEvent id="Event_18pbqyj">
      <bpmn:incoming>Flow_1479krh</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="Flow_1479krh" name="cancel" sourceRef="Gateway_1p7s6iv" targetRef="Event_18pbqyj">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">#{userAction  == "cancel" }</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:userTask id="Activity_1nzk073">
      <bpmn:incoming>Flow_19mq0rh</bpmn:incoming>
    </bpmn:userTask>
  </bpmn:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="TESTprocess_22d2b2bf-ce8d-41d3-9b97-5bd8b112f2ce">
      <bpmndi:BPMNEdge id="Flow_1479krh_di" bpmnElement="Flow_1479krh">
        <di:waypoint x="2820" y="345" />
        <di:waypoint x="2820" y="288" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2819" y="314" width="33" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1mdvb2e_di" bpmnElement="Flow_1mdvb2e">
        <di:waypoint x="1330" y="370" />
        <di:waypoint x="1380" y="370" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_01a5m6q_di" bpmnElement="Flow_01a5m6q">
        <di:waypoint x="3400" y="580" />
        <di:waypoint x="3400" y="740" />
        <di:waypoint x="1250" y="740" />
        <di:waypoint x="1250" y="600" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1cm74u2_di" bpmnElement="Flow_1cm74u2">
        <di:waypoint x="3400" y="410" />
        <di:waypoint x="3400" y="500" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1rv47ts_di" bpmnElement="Flow_1rv47ts">
        <di:waypoint x="3450" y="370" />
        <di:waypoint x="3512" y="370" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_16uss9x_di" bpmnElement="Flow_16uss9x">
        <di:waypoint x="2750" y="370" />
        <di:waypoint x="2795" y="370" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1x860l7_di" bpmnElement="Flow_1x860l7">
        <di:waypoint x="3020" y="370" />
        <di:waypoint x="3350" y="370" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_19mq0rh_di" bpmnElement="Flow_19mq0rh" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="2843" y="368" />
        <di:waypoint x="2940" y="270" />
        <di:waypoint x="2840" y="180" />
        <di:waypoint x="2940" y="180" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2846" y="162" width="90" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1c32763_di" bpmnElement="Flow_1c32763" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="2620" y="370" />
        <di:waypoint x="2650" y="370" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1vg7to2_di" bpmnElement="Flow_1vg7to2" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="2490" y="370" />
        <di:waypoint x="2520" y="370" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_10vexnr_di" bpmnElement="Flow_10vexnr" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="2360" y="370" />
        <di:waypoint x="2390" y="370" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1vfgcun_di" bpmnElement="Flow_1vfgcun">
        <di:waypoint x="1890" y="560" />
        <di:waypoint x="2005" y="560" />
        <di:waypoint x="2005" y="390" />
        <di:waypoint x="2120" y="390" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0x8t51l_di" bpmnElement="Flow_0x8t51l">
        <di:waypoint x="222" y="590" />
        <di:waypoint x="150" y="590" />
        <di:waypoint x="150" y="200" />
        <di:waypoint x="330" y="200" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0ktnpa4_di" bpmnElement="Flow_0ktnpa4">
        <di:waypoint x="1300" y="560" />
        <di:waypoint x="1370" y="560" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1oiv0bp_di" bpmnElement="Flow_1oiv0bp" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="1750" y="560" />
        <di:waypoint x="1790" y="560" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_01ifbdf_di" bpmnElement="Flow_01ifbdf" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="1610" y="560" />
        <di:waypoint x="1650" y="560" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0r177dk_di" bpmnElement="Flow_0r177dk" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="1470" y="560" />
        <di:waypoint x="1510" y="560" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1e5wtb7_di" bpmnElement="Flow_1e5wtb7" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="1060" y="370" />
        <di:waypoint x="1090" y="370" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1jc7g29_di" bpmnElement="Flow_1jc7g29" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="710" y="210" />
        <di:waypoint x="740" y="210" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1jvbbum_di" bpmnElement="Flow_1jvbbum" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="570" y="210" />
        <di:waypoint x="610" y="210" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_006qh8e_di" bpmnElement="Flow_006qh8e" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="430" y="210" />
        <di:waypoint x="470" y="210" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1du9htf_di" bpmnElement="Flow_1du9htf">
        <di:waypoint x="2220" y="370" />
        <di:waypoint x="2260" y="370" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0aogij0_di" bpmnElement="Flow_0aogij0" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="1995" y="370" />
        <di:waypoint x="2120" y="370" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1998" y="346" width="85" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1d7y8ba_di" bpmnElement="Flow_1d7y8ba" bioc:stroke="rgb(229, 57, 53)" bioc:fill="rgb(255, 205, 210)">
        <di:waypoint x="1970" y="395" />
        <di:waypoint x="1970" y="432" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1943" y="418" width="33" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1kjjmwe_di" bpmnElement="Flow_1kjjmwe" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="1620" y="370" />
        <di:waypoint x="1660" y="370" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1r52kkw_di" bpmnElement="Flow_1r52kkw" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="1480" y="370" />
        <di:waypoint x="1520" y="370" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1smslgg_di" bpmnElement="Flow_1smslgg" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="1190" y="370" />
        <di:waypoint x="1230" y="370" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1czpvuy_di" bpmnElement="Flow_1czpvuy" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="1760" y="370" />
        <di:waypoint x="1800" y="370" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_19r9dtd_di" bpmnElement="Flow_19r9dtd" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="1900" y="370" />
        <di:waypoint x="1945" y="370" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0sdztsv_di" bpmnElement="Flow_0sdztsv" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="920" y="370" />
        <di:waypoint x="960" y="370" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1i3tws5_di" bpmnElement="Flow_1i3tws5" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="745" y="370" />
        <di:waypoint x="820" y="370" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="725" y="383" width="89" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_13gcxa1_di" bpmnElement="Flow_13gcxa1" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="1890" y="210" />
        <di:waypoint x="1925" y="210" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1jwemx1_di" bpmnElement="Flow_1jwemx1" bioc:stroke="rgb(30, 136, 229)" bioc:fill="rgb(187, 222, 251)">
        <di:waypoint x="1975" y="210" />
        <di:waypoint x="2020" y="210" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1977" y="173" width="23" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_12qeh7a_di" bpmnElement="Flow_12qeh7a" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="1750" y="210" />
        <di:waypoint x="1790" y="210" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1gnmd65_di" bpmnElement="Flow_1gnmd65" bioc:stroke="rgb(229, 57, 53)" bioc:fill="rgb(255, 205, 210)">
        <di:waypoint x="720" y="395" />
        <di:waypoint x="720" y="460" />
        <di:waypoint x="1955" y="460" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1532" y="470" width="33" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1oufk97_di" bpmnElement="Flow_1oufk97" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="650" y="370" />
        <di:waypoint x="695" y="370" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1ofo96f_di" bpmnElement="Flow_1ofo96f" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="520" y="370" />
        <di:waypoint x="550" y="370" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1qk78kd_di" bpmnElement="Flow_1qk78kd" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="390" y="370" />
        <di:waypoint x="420" y="370" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0r5dk6r_di" bpmnElement="Flow_0r5dk6r" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="260" y="370" />
        <di:waypoint x="290" y="370" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1iwywtn_di" bpmnElement="Flow_1iwywtn" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="1950" y="235" />
        <di:waypoint x="1950" y="290" />
        <di:waypoint x="210" y="290" />
        <di:waypoint x="210" y="330" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1886" y="266" width="18" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_01i84jq_di" bpmnElement="Flow_01i84jq" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="1605" y="210" />
        <di:waypoint x="1650" y="210" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1607" y="183" width="22" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1abdadr_di" bpmnElement="Flow_1abdadr" bioc:stroke="rgb(229, 57, 53)" bioc:fill="rgb(255, 205, 210)">
        <di:waypoint x="1580" y="185" />
        <di:waypoint x="1580" y="118" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1543" y="143" width="33" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1womaw9_di" bpmnElement="Flow_1womaw9" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="1520" y="210" />
        <di:waypoint x="1555" y="210" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1bdpfy4_di" bpmnElement="Flow_1bdpfy4" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="1390" y="210" />
        <di:waypoint x="1420" y="210" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_09ios1f_di" bpmnElement="Flow_09ios1f" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="1260" y="210" />
        <di:waypoint x="1290" y="210" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_02hgkgd_di" bpmnElement="Flow_02hgkgd" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="1120" y="210" />
        <di:waypoint x="1160" y="210" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0c710jx_di" bpmnElement="Flow_0c710jx" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="980" y="210" />
        <di:waypoint x="1020" y="210" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0qij95u_di" bpmnElement="Flow_0qij95u" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="840" y="210" />
        <di:waypoint x="880" y="210" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Event_1g2bu8t_di" bpmnElement="Event_1g2bu8t" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <dc:Bounds x="222" y="572" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0yx6lyq_di" bpmnElement="Activity_0yx6lyq">
        <dc:Bounds x="740" y="170" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0n3sgd2_di" bpmnElement="Activity_0n3sgd2">
        <dc:Bounds x="880" y="170" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0fn457t_di" bpmnElement="Activity_0fn457t">
        <dc:Bounds x="1160" y="170" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1g8eaen_di" bpmnElement="Activity_1g8eaen">
        <dc:Bounds x="1290" y="170" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1naobg1_di" bpmnElement="Activity_1naobg1">
        <dc:Bounds x="1420" y="170" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_17xqb5c_di" bpmnElement="Gateway_17xqb5c" isMarkerVisible="true" bioc:stroke="rgb(251, 140, 0)" bioc:fill="rgb(255, 224, 178)">
        <dc:Bounds x="1555" y="185" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1iwo1cm_di" bpmnElement="Event_1iwo1cm" bioc:stroke="rgb(229, 57, 53)" bioc:fill="rgb(255, 205, 210)">
        <dc:Bounds x="1562" y="82" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1t6kkxr_di" bpmnElement="Activity_1t6kkxr">
        <dc:Bounds x="160" y="330" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_16oi8l1_di" bpmnElement="Activity_16oi8l1">
        <dc:Bounds x="290" y="330" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1x5w43h_di" bpmnElement="Activity_1x5w43h">
        <dc:Bounds x="420" y="330" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_02fxrl3_di" bpmnElement="Activity_02fxrl3">
        <dc:Bounds x="550" y="330" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_19gtofp_di" bpmnElement="Activity_19gtofp">
        <dc:Bounds x="1020" y="170" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_13vbi7s_di" bpmnElement="Event_13vbi7s" bioc:stroke="rgb(229, 57, 53)" bioc:fill="rgb(255, 205, 210)">
        <dc:Bounds x="1952" y="432" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0kny4si_di" bpmnElement="Activity_0kny4si">
        <dc:Bounds x="1650" y="170" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0mzi2km_di" bpmnElement="Activity_0mzi2km">
        <dc:Bounds x="2020" y="170" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1jp63po_di" bpmnElement="Gateway_1jp63po" isMarkerVisible="true" bioc:stroke="rgb(251, 140, 0)" bioc:fill="rgb(255, 224, 178)">
        <dc:Bounds x="1925" y="185" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0yqiaen_di" bpmnElement="Activity_0yqiaen">
        <dc:Bounds x="1790" y="170" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1tfndbr_di" bpmnElement="Gateway_1tfndbr" isMarkerVisible="true" bioc:stroke="rgb(251, 140, 0)" bioc:fill="rgb(255, 224, 178)">
        <dc:Bounds x="695" y="345" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_06ixvc6_di" bpmnElement="Activity_06ixvc6">
        <dc:Bounds x="820" y="330" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1guc4vi_di" bpmnElement="Activity_1guc4vi">
        <dc:Bounds x="1380" y="330" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0qkglvb_di" bpmnElement="Activity_0qkglvb">
        <dc:Bounds x="1660" y="330" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0dluxgh_di" bpmnElement="Activity_0dluxgh">
        <dc:Bounds x="1800" y="330" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0wm6rbx_di" bpmnElement="Activity_0wm6rbx">
        <dc:Bounds x="1090" y="330" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1udfm5f_di" bpmnElement="Activity_1udfm5f">
        <dc:Bounds x="1520" y="330" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_182kbbe_di" bpmnElement="Gateway_182kbbe" isMarkerVisible="true">
        <dc:Bounds x="1945" y="345" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1ek40k1_di" bpmnElement="Event_1ek40k1">
        <dc:Bounds x="3512" y="352" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0katv3s_di" bpmnElement="Activity_0katv3s">
        <dc:Bounds x="2120" y="330" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1y2lmuw_di" bpmnElement="Activity_1y2lmuw">
        <dc:Bounds x="330" y="170" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1av5v4u_di" bpmnElement="Activity_1av5v4u">
        <dc:Bounds x="470" y="170" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0r16w4x_di" bpmnElement="Activity_0r16w4x">
        <dc:Bounds x="610" y="170" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1ywzxy4_di" bpmnElement="Activity_1ywzxy4">
        <dc:Bounds x="960" y="330" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1hme9no_di" bpmnElement="Activity_1hme9no">
        <dc:Bounds x="3350" y="500" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0nhvl7r_di" bpmnElement="Activity_0nhvl7r">
        <dc:Bounds x="1370" y="520" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_01ikuk6_di" bpmnElement="Activity_01ikuk6">
        <dc:Bounds x="1650" y="520" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1y894g1_di" bpmnElement="Activity_1y894g1">
        <dc:Bounds x="1790" y="520" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1achj0m_di" bpmnElement="Activity_1achj0m">
        <dc:Bounds x="1510" y="520" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1mvh4d5_di" bpmnElement="Activity_1mvh4d5">
        <dc:Bounds x="1200" y="520" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1wqkj8t_di" bpmnElement="Activity_03sv6p2">
        <dc:Bounds x="3350" y="330" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1tdgg2k_di" bpmnElement="Activity_1tdgg2k">
        <dc:Bounds x="2260" y="330" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0xkhrjk_di" bpmnElement="Activity_0xkhrjk">
        <dc:Bounds x="2390" y="330" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1g8rl73_di" bpmnElement="Activity_1g8rl73">
        <dc:Bounds x="2520" y="330" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1k754er_di" bpmnElement="Activity_1k754er">
        <dc:Bounds x="2650" y="330" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1p7s6iv_di" bpmnElement="Gateway_1p7s6iv" isMarkerVisible="true">
        <dc:Bounds x="2795" y="345" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_15wuiz0_di" bpmnElement="Activity_15wuiz0">
        <dc:Bounds x="2920" y="330" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1aftlce_di" bpmnElement="Activity_1aftlce">
        <dc:Bounds x="1230" y="330" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_18pbqyj_di" bpmnElement="Event_18pbqyj">
        <dc:Bounds x="2802" y="252" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1nzk073_di" bpmnElement="Activity_1nzk073">
        <dc:Bounds x="2940" y="140" width="100" height="80" />
      </bpmndi:BPMNShape>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
