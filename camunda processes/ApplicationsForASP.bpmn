<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bioc="http://bpmn.io/schema/bpmn/biocolor/1.0" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" id="Definitions_12ajdup" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="4.3.0">
  <bpmn:process id="process_22d2b2bf-ce8d-41d3-9b97-5bd8b112f2ce" name="SaveApplication" isExecutable="true">
    <bpmn:startEvent id="Event_1g2bu8t">
      <bpmn:outgoing>Flow_0x8t51l</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:scriptTask id="Activity_0yx6lyq" name="Variables" scriptFormat="Javascript">
      <bpmn:incoming>Flow_1jc7g29</bpmn:incoming>
      <bpmn:outgoing>Flow_0qij95u</bpmn:outgoing>
      <bpmn:script>execution.setVariable("taskType", "showApplicationForm")
execution.setVariable("formDefId", "4F9F2AE2-7180-4850-A3F4-5FB47313BCC0")
execution.setVariable("buttons", "ApplicationButtons")
execution.setVariable("gridFormDefId", "null")
execution.setVariable("docList", "null")
execution.setVariable("gridForm", "null")
execution.setVariable("gridFormButtons", "null")
execution.setVariable("tableFormButtons", "null")
execution.setVariable("userAction", "null")
execution.setVariable("formType", "edit")</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:serviceTask id="Activity_0n3sgd2" name="GenerateNewNumber">
      <bpmn:extensionElements>
        <camunda:connector>
          <camunda:inputOutput>
            <camunda:inputParameter name="url">${asistRESTApi}/ASIST-MODERN-API/api/Document/GetDocNewNumber?userId=${userId}</camunda:inputParameter>
            <camunda:inputParameter name="method">GET</camunda:inputParameter>
            <camunda:inputParameter name="headers">
              <camunda:map>
                <camunda:entry key="Content-Type">application/json</camunda:entry>
              </camunda:map>
            </camunda:inputParameter>
            <camunda:outputParameter name="generatedNo">
              <camunda:script scriptFormat="Javascript">S(response).prop("Value")</camunda:script>
            </camunda:outputParameter>
          </camunda:inputOutput>
          <camunda:connectorId>http-connector</camunda:connectorId>
        </camunda:connector>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0qij95u</bpmn:incoming>
      <bpmn:outgoing>Flow_0c710jx</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="Activity_0fn457t" name="API GET Detail Form">
      <bpmn:extensionElements>
        <camunda:connector>
          <camunda:inputOutput>
            <camunda:inputParameter name="url">${metaRESTApi}/api/metadata/GetByDefId?defid=${formDefId}</camunda:inputParameter>
            <camunda:inputParameter name="method">GET</camunda:inputParameter>
            <camunda:inputParameter name="headers">
              <camunda:map>
                <camunda:entry key="Content-Type">application/json</camunda:entry>
              </camunda:map>
            </camunda:inputParameter>
            <camunda:outputParameter name="form">
              <camunda:script scriptFormat="Javascript">S(response).prop("data").toString()</camunda:script>
            </camunda:outputParameter>
          </camunda:inputOutput>
          <camunda:connectorId>http-connector</camunda:connectorId>
        </camunda:connector>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_02hgkgd</bpmn:incoming>
      <bpmn:outgoing>Flow_09ios1f</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:scriptTask id="Activity_1g8eaen" name="Task" scriptFormat="Javascript">
      <bpmn:incoming>Flow_09ios1f</bpmn:incoming>
      <bpmn:outgoing>Flow_1bdpfy4</bpmn:outgoing>
      <bpmn:script>var variables = {
session_id : user_session_id,
taskType: taskType,
selectedDoc: selectedDoc,
process_id: process_id,
formType: formType,
userAction: userAction,
docList: docList,
buttons: buttons,
size: size,
page: page,
userRole: userRole,
tabLabel: tabLabel,
userId: userId,
docId: docId,
gridFormButtons: gridFormButtons,
tableFormButtons: tableFormButtons,
form: form,
gridForm: gridForm,
totalCount: totalCount
}
execution.setVariable("taskVariables", JSON.stringify(variables))</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:userTask id="Activity_1naobg1" name="SHOW Application Form">
      <bpmn:extensionElements>
        <camunda:taskListener class="com.camunda.RabbitMQ.Enqueue" event="create">
          <camunda:field name="taskVariables">
            <camunda:expression>${taskVariables}</camunda:expression>
          </camunda:field>
        </camunda:taskListener>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1bdpfy4</bpmn:incoming>
      <bpmn:outgoing>Flow_1womaw9</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:exclusiveGateway id="Gateway_17xqb5c">
      <bpmn:incoming>Flow_1womaw9</bpmn:incoming>
      <bpmn:outgoing>Flow_1abdadr</bpmn:outgoing>
      <bpmn:outgoing>Flow_01i84jq</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:endEvent id="Event_1iwo1cm">
      <bpmn:incoming>Flow_1abdadr</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:scriptTask id="Activity_1t6kkxr" name="Variables" scriptFormat="Javascript">
      <bpmn:incoming>Flow_1iwywtn</bpmn:incoming>
      <bpmn:outgoing>Flow_0r5dk6r</bpmn:outgoing>
      <bpmn:script>execution.setVariable("taskType", "showAppStateForm")
execution.setVariable("formDefId", "547BBA55-2281-4388-A1FC-EE890168AC2D")
execution.setVariable("buttons", "AppStateButtons")
execution.setVariable("gridFormDefId", "null")
execution.setVariable("docList", "null")
execution.setVariable("gridForm", "null")
execution.setVariable("gridFormButtons", "null")
execution.setVariable("tableFormButtons", "null")
execution.setVariable("userAction", "null")
execution.setVariable("formType", "edit")</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:serviceTask id="Activity_16oi8l1" name="API GET Detail Form">
      <bpmn:extensionElements>
        <camunda:connector>
          <camunda:inputOutput>
            <camunda:inputParameter name="url">${metaRESTApi}/api/metadata/GetByDefId?defid=${formDefId}</camunda:inputParameter>
            <camunda:inputParameter name="method">GET</camunda:inputParameter>
            <camunda:inputParameter name="headers">
              <camunda:map>
                <camunda:entry key="Content-Type">application/json</camunda:entry>
              </camunda:map>
            </camunda:inputParameter>
            <camunda:outputParameter name="form">
              <camunda:script scriptFormat="Javascript">S(response).prop("data").toString()</camunda:script>
            </camunda:outputParameter>
          </camunda:inputOutput>
          <camunda:connectorId>http-connector</camunda:connectorId>
        </camunda:connector>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0r5dk6r</bpmn:incoming>
      <bpmn:outgoing>Flow_1qk78kd</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:scriptTask id="Activity_1x5w43h" name="Task" scriptFormat="Javascript">
      <bpmn:incoming>Flow_1qk78kd</bpmn:incoming>
      <bpmn:outgoing>Flow_1ofo96f</bpmn:outgoing>
      <bpmn:script>var variables = {
session_id : user_session_id,
taskType: taskType,
selectedDoc: selectedDoc,
process_id: process_id,
formType: formType,
userAction: userAction,
docList: docList,
buttons: buttons,
size: size,
page: page,
userRole: userRole,
tabLabel: tabLabel,
userId: userId,
docId: docId,
gridFormButtons: gridFormButtons,
tableFormButtons: tableFormButtons,
form: form,
gridForm: gridForm,
totalCount: totalCount,
application: application
}
execution.setVariable("taskVariables", JSON.stringify(variables))</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:userTask id="Activity_02fxrl3" name="SHOW AppStateForm">
      <bpmn:extensionElements>
        <camunda:taskListener class="com.camunda.RabbitMQ.Enqueue" event="create">
          <camunda:field name="taskVariables">
            <camunda:expression>${taskVariables}</camunda:expression>
          </camunda:field>
        </camunda:taskListener>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1ofo96f</bpmn:incoming>
      <bpmn:outgoing>Flow_1oufk97</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:scriptTask id="Activity_19gtofp" name="Variables" scriptFormat="Javascript">
      <bpmn:incoming>Flow_0c710jx</bpmn:incoming>
      <bpmn:outgoing>Flow_02hgkgd</bpmn:outgoing>
      <bpmn:script>var newNo = {
"name": "No", 
"type": "Text", 
"value": generatedNo
}
var attrs = S(selectedDoc).prop("attributes").append(newNo)

var newSelDoc = S(selectedDoc).prop("attributes", attrs)
execution.setVariable("selectedDoc", newSelDoc.toString())</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:endEvent id="Event_13vbi7s">
      <bpmn:incoming>Flow_1gnmd65</bpmn:incoming>
      <bpmn:incoming>Flow_1d7y8ba</bpmn:incoming>
      <bpmn:incoming>Flow_1bd9sou</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:serviceTask id="Activity_0kny4si" name="CheckPerson">
      <bpmn:extensionElements>
        <camunda:connector>
          <camunda:inputOutput>
            <camunda:inputParameter name="url">${asistRESTApi}/ASIST-MODERN-API/api/Document/CheckPerson?personId=${personId}&amp;regDateRef=${regDateRef}&amp;userId=${userId}</camunda:inputParameter>
            <camunda:inputParameter name="method">GET</camunda:inputParameter>
            <camunda:inputParameter name="headers">
              <camunda:map>
                <camunda:entry key="Content-Type">application/json</camunda:entry>
              </camunda:map>
            </camunda:inputParameter>
            <camunda:outputParameter name="Response">
              <camunda:script scriptFormat="Javascript">S(response)</camunda:script>
            </camunda:outputParameter>
          </camunda:inputOutput>
          <camunda:connectorId>http-connector</camunda:connectorId>
        </camunda:connector>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_01i84jq</bpmn:incoming>
      <bpmn:outgoing>Flow_12qeh7a</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:callActivity id="Activity_0mzi2km" name="Call Toast" calledElement="CallToast">
      <bpmn:extensionElements>
        <camunda:in variables="all" />
        <camunda:in sourceExpression="Успех" target="toastTextSuccess" />
        <camunda:in source="text" target="toastTextError" />
        <camunda:in source="checkResult" target="Response" />
        <camunda:in source="status" target="status" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1jwemx1</bpmn:incoming>
    </bpmn:callActivity>
    <bpmn:exclusiveGateway id="Gateway_1jp63po">
      <bpmn:incoming>Flow_13gcxa1</bpmn:incoming>
      <bpmn:outgoing>Flow_1iwywtn</bpmn:outgoing>
      <bpmn:outgoing>Flow_1jwemx1</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:scriptTask id="Activity_0yqiaen" name="Variables" scriptFormat="Javascript">
      <bpmn:incoming>Flow_12qeh7a</bpmn:incoming>
      <bpmn:outgoing>Flow_13gcxa1</bpmn:outgoing>
      <bpmn:script>var status = 
execution.setVariable("status", Response.prop("Status").toString())
execution.setVariable("text", Response.prop("Value").toString())</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:exclusiveGateway id="Gateway_1tfndbr">
      <bpmn:incoming>Flow_1oufk97</bpmn:incoming>
      <bpmn:outgoing>Flow_1gnmd65</bpmn:outgoing>
      <bpmn:outgoing>Flow_1i3tws5</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:scriptTask id="Activity_06ixvc6" name="document" scriptFormat="Javascript">
      <bpmn:incoming>Flow_1i3tws5</bpmn:incoming>
      <bpmn:outgoing>Flow_0sdztsv</bpmn:outgoing>
      <bpmn:script>var newApp = S(saveApp).prop("ApplicationState", S(document))
execution.setVariable("document", newApp.toString())</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:sequenceFlow id="Flow_0qij95u" sourceRef="Activity_0yx6lyq" targetRef="Activity_0n3sgd2" />
    <bpmn:sequenceFlow id="Flow_0c710jx" sourceRef="Activity_0n3sgd2" targetRef="Activity_19gtofp" />
    <bpmn:sequenceFlow id="Flow_02hgkgd" sourceRef="Activity_19gtofp" targetRef="Activity_0fn457t" />
    <bpmn:sequenceFlow id="Flow_09ios1f" sourceRef="Activity_0fn457t" targetRef="Activity_1g8eaen" />
    <bpmn:sequenceFlow id="Flow_1bdpfy4" sourceRef="Activity_1g8eaen" targetRef="Activity_1naobg1" />
    <bpmn:sequenceFlow id="Flow_1womaw9" sourceRef="Activity_1naobg1" targetRef="Gateway_17xqb5c" />
    <bpmn:sequenceFlow id="Flow_1abdadr" name="cancel" sourceRef="Gateway_17xqb5c" targetRef="Event_1iwo1cm">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">#{userAction  == "cancel" }</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_01i84jq" name="next" sourceRef="Gateway_17xqb5c" targetRef="Activity_0kny4si">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">#{userAction  == "next" }</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_1iwywtn" name="true" sourceRef="Gateway_1jp63po" targetRef="Activity_1t6kkxr">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">#{status == "true"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0r5dk6r" sourceRef="Activity_1t6kkxr" targetRef="Activity_16oi8l1" />
    <bpmn:sequenceFlow id="Flow_1qk78kd" sourceRef="Activity_16oi8l1" targetRef="Activity_1x5w43h" />
    <bpmn:sequenceFlow id="Flow_1ofo96f" sourceRef="Activity_1x5w43h" targetRef="Activity_02fxrl3" />
    <bpmn:sequenceFlow id="Flow_1oufk97" sourceRef="Activity_02fxrl3" targetRef="Gateway_1tfndbr" />
    <bpmn:sequenceFlow id="Flow_1gnmd65" name="cancel" sourceRef="Gateway_1tfndbr" targetRef="Event_13vbi7s">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">#{userAction  == "cancel" }</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_12qeh7a" sourceRef="Activity_0kny4si" targetRef="Activity_0yqiaen" />
    <bpmn:sequenceFlow id="Flow_1jwemx1" name="false" sourceRef="Gateway_1jp63po" targetRef="Activity_0mzi2km">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">#{status == "false"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_13gcxa1" sourceRef="Activity_0yqiaen" targetRef="Gateway_1jp63po" />
    <bpmn:sequenceFlow id="Flow_1i3tws5" name="saveAppStateDoc" sourceRef="Gateway_1tfndbr" targetRef="Activity_06ixvc6">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">#{userAction  == "saveAppStateDoc" }</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0sdztsv" sourceRef="Activity_06ixvc6" targetRef="Activity_1ywzxy4" />
    <bpmn:serviceTask id="Activity_1guc4vi" name="API GET GetDocumentById">
      <bpmn:extensionElements>
        <camunda:connector>
          <camunda:inputOutput>
            <camunda:inputParameter name="url">${asistRESTApi}/ASIST-MODERN-API/api/Document/GetDocumentById/${docId}?userId=${userId}</camunda:inputParameter>
            <camunda:inputParameter name="method">GET</camunda:inputParameter>
            <camunda:inputParameter name="headers">
              <camunda:map>
                <camunda:entry key="Content-Type">application/json</camunda:entry>
              </camunda:map>
            </camunda:inputParameter>
            <camunda:outputParameter name="selectedDoc">
              <camunda:script scriptFormat="Javascript">S(response).toString()</camunda:script>
            </camunda:outputParameter>
          </camunda:inputOutput>
          <camunda:connectorId>http-connector</camunda:connectorId>
        </camunda:connector>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1mdvb2e</bpmn:incoming>
      <bpmn:outgoing>Flow_1r52kkw</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:scriptTask id="Activity_0qkglvb" name="Task" scriptFormat="Javascript">
      <bpmn:incoming>Flow_1kjjmwe</bpmn:incoming>
      <bpmn:outgoing>Flow_1czpvuy</bpmn:outgoing>
      <bpmn:script>var variables = {
session_id : user_session_id,
taskType: taskType,
selectedDoc: selectedDoc,
process_id: process_id,
formType: formType,
userAction: userAction,
docList: docList,
buttons: buttons,
size: size,
page: page,
userRole: userRole,
tabLabel: tabLabel,
userId: userId,
docId: docId,
gridFormButtons: gridFormButtons,
tableFormButtons: tableFormButtons,
form: form,
gridForm: gridForm,
totalCount: totalCount
}
execution.setVariable("taskVariables", JSON.stringify(variables))</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:userTask id="Activity_0dluxgh" name="SHOW Application + AppS Form">
      <bpmn:extensionElements>
        <camunda:taskListener class="com.camunda.RabbitMQ.Enqueue" event="create">
          <camunda:field name="taskVariables">
            <camunda:expression>${taskVariables}</camunda:expression>
          </camunda:field>
        </camunda:taskListener>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1czpvuy</bpmn:incoming>
      <bpmn:outgoing>Flow_19r9dtd</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="Flow_19r9dtd" sourceRef="Activity_0dluxgh" targetRef="Gateway_182kbbe" />
    <bpmn:sequenceFlow id="Flow_1czpvuy" sourceRef="Activity_0qkglvb" targetRef="Activity_0dluxgh" />
    <bpmn:scriptTask id="Activity_0wm6rbx" name="Get created doc id" scriptFormat="Javascript">
      <bpmn:incoming>Flow_1e5wtb7</bpmn:incoming>
      <bpmn:outgoing>Flow_1smslgg</bpmn:outgoing>
      <bpmn:script>var id = saveDocRes.prop("Value").toString()
var sdocId = id.substring(1, id.length-1)
execution.setVariable("docId", sdocId)
execution.setVariable("appId", sdocId)</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:serviceTask id="Activity_1udfm5f" name="API GET Detail Form">
      <bpmn:extensionElements>
        <camunda:connector>
          <camunda:inputOutput>
            <camunda:inputParameter name="url">${metaRESTApi}/api/metadata/GetByDefId?defid=${formDefId}</camunda:inputParameter>
            <camunda:inputParameter name="method">GET</camunda:inputParameter>
            <camunda:inputParameter name="headers">
              <camunda:map>
                <camunda:entry key="Content-Type">application/json</camunda:entry>
              </camunda:map>
            </camunda:inputParameter>
            <camunda:outputParameter name="form">
              <camunda:script scriptFormat="Javascript">S(response).prop("data").toString()</camunda:script>
            </camunda:outputParameter>
          </camunda:inputOutput>
          <camunda:connectorId>http-connector</camunda:connectorId>
        </camunda:connector>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1r52kkw</bpmn:incoming>
      <bpmn:outgoing>Flow_1kjjmwe</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="Flow_1smslgg" sourceRef="Activity_0wm6rbx" targetRef="Activity_1aftlce" />
    <bpmn:sequenceFlow id="Flow_1r52kkw" sourceRef="Activity_1guc4vi" targetRef="Activity_1udfm5f" />
    <bpmn:sequenceFlow id="Flow_1kjjmwe" sourceRef="Activity_1udfm5f" targetRef="Activity_0qkglvb" />
    <bpmn:exclusiveGateway id="Gateway_182kbbe">
      <bpmn:incoming>Flow_19r9dtd</bpmn:incoming>
      <bpmn:outgoing>Flow_1d7y8ba</bpmn:outgoing>
      <bpmn:outgoing>Flow_0aogij0</bpmn:outgoing>
      <bpmn:outgoing>Flow_0s0jn4k</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_1d7y8ba" name="cancel" sourceRef="Gateway_182kbbe" targetRef="Event_13vbi7s">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">#{userAction  == "cancel" }</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0aogij0" name="crtFamMember" sourceRef="Gateway_182kbbe" targetRef="Activity_0katv3s">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">#{userAction  == "createFamMemDoc" }</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:endEvent id="Event_1ek40k1">
      <bpmn:incoming>Flow_1rv47ts</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:callActivity id="Activity_0katv3s" name="CreatePersonProcess" calledElement="process_08513c7f-90d4-490e-a8ae-ccb8b75d673f">
      <bpmn:extensionElements>
        <camunda:in variables="all" />
        <camunda:out source="personId" target="personId" />
        <camunda:out source="emptyDoc" target="emptyDoc" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0aogij0</bpmn:incoming>
      <bpmn:outgoing>Flow_1du9htf</bpmn:outgoing>
    </bpmn:callActivity>
    <bpmn:sequenceFlow id="Flow_1du9htf" sourceRef="Activity_0katv3s" targetRef="Activity_1tdgg2k" />
    <bpmn:callActivity id="Activity_1y2lmuw" name="Find/Create Person" calledElement="process_08513c7f-90d4-490e-a8ae-ccb8b75d673f">
      <bpmn:extensionElements>
        <camunda:in variables="all" />
        <camunda:out source="personId" target="personId" />
        <camunda:out source="emptyDoc" target="emptyDoc" />
      </bpmn:extensionElements>
      <bpmn:outgoing>Flow_006qh8e</bpmn:outgoing>
    </bpmn:callActivity>
    <bpmn:sequenceFlow id="Flow_006qh8e" sourceRef="Activity_1y2lmuw" targetRef="Activity_1av5v4u" />
    <bpmn:scriptTask id="Activity_1av5v4u" name="Get created doc id" scriptFormat="Javascript">
      <bpmn:incoming>Flow_006qh8e</bpmn:incoming>
      <bpmn:outgoing>Flow_1jvbbum</bpmn:outgoing>
      <bpmn:script>var Person = {
 "name": "Person",
 "type": "Doc",
 "value": personId
}
var attrs = S(emptyDoc).prop("attributes").append(Person)
var newSelDoc = S(emptyDoc).prop("attributes", attrs)
execution.setVariable("selectedDoc", newSelDoc.toString())</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:sequenceFlow id="Flow_1jvbbum" sourceRef="Activity_1av5v4u" targetRef="Activity_0r16w4x" />
    <bpmn:scriptTask id="Activity_0r16w4x" name="DEF Variables" scriptFormat="Javascript" camunda:resultVariable="taskType">
      <bpmn:incoming>Flow_1jvbbum</bpmn:incoming>
      <bpmn:outgoing>Flow_1jc7g29</bpmn:outgoing>
      <bpmn:script>execution.setVariable("page", "1")
execution.setVariable("size", "10")
execution.setVariable("totalCount", "10")
execution.setVariable("docId", "null")
execution.setVariable("searchBody", "{}")</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:sequenceFlow id="Flow_1jc7g29" sourceRef="Activity_0r16w4x" targetRef="Activity_0yx6lyq" />
    <bpmn:serviceTask id="Activity_1ywzxy4" name="SaveApplication">
      <bpmn:extensionElements>
        <camunda:connector>
          <camunda:inputOutput>
            <camunda:inputParameter name="payload">${document}</camunda:inputParameter>
            <camunda:inputParameter name="url">${asistRESTApi}/ASIST-MODERN-API/api/Document/SaveApplication?userId=${userId}</camunda:inputParameter>
            <camunda:inputParameter name="method">POST</camunda:inputParameter>
            <camunda:inputParameter name="headers">
              <camunda:map>
                <camunda:entry key="Content-Type">application/json</camunda:entry>
              </camunda:map>
            </camunda:inputParameter>
            <camunda:outputParameter name="saveDocRes">
              <camunda:script scriptFormat="Javascript">S(response)</camunda:script>
            </camunda:outputParameter>
          </camunda:inputOutput>
          <camunda:connectorId>http-connector</camunda:connectorId>
        </camunda:connector>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0sdztsv</bpmn:incoming>
      <bpmn:outgoing>Flow_1e5wtb7</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="Flow_1e5wtb7" sourceRef="Activity_1ywzxy4" targetRef="Activity_0wm6rbx" />
    <bpmn:scriptTask id="Activity_1hme9no" name="Variables" scriptFormat="Javascript">
      <bpmn:incoming>Flow_1cm74u2</bpmn:incoming>
      <bpmn:script>execution.setVariable("docId", appId)</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:serviceTask id="Activity_0nhvl7r" name="API GET GetDocumentById">
      <bpmn:extensionElements>
        <camunda:connector>
          <camunda:inputOutput>
            <camunda:inputParameter name="url">${asistRESTApi}/ASIST-MODERN-API/api/Document/GetDocumentById/${docId}?userId=${userId}</camunda:inputParameter>
            <camunda:inputParameter name="method">GET</camunda:inputParameter>
            <camunda:inputParameter name="headers">
              <camunda:map>
                <camunda:entry key="Content-Type">application/json</camunda:entry>
              </camunda:map>
            </camunda:inputParameter>
            <camunda:outputParameter name="selectedDoc">
              <camunda:script scriptFormat="Javascript">S(response).toString()</camunda:script>
            </camunda:outputParameter>
          </camunda:inputOutput>
          <camunda:connectorId>http-connector</camunda:connectorId>
        </camunda:connector>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0ktnpa4</bpmn:incoming>
      <bpmn:outgoing>Flow_0r177dk</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:scriptTask id="Activity_01ikuk6" name="Task" scriptFormat="Javascript">
      <bpmn:incoming>Flow_01ifbdf</bpmn:incoming>
      <bpmn:outgoing>Flow_1oiv0bp</bpmn:outgoing>
      <bpmn:script>var variables = {
session_id : user_session_id,
taskType: taskType,
selectedDoc: selectedDoc,
process_id: process_id,
formType: formType,
userAction: userAction,
docList: docList,
buttons: buttons,
size: size,
page: page,
userRole: userRole,
tabLabel: tabLabel,
userId: userId,
docId: docId,
gridFormButtons: gridFormButtons,
tableFormButtons: tableFormButtons,
form: form,
gridForm: gridForm,
totalCount: totalCount
}
execution.setVariable("taskVariables", JSON.stringify(variables))</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:userTask id="Activity_1y894g1" name="SHOW Application + AppS Form">
      <bpmn:extensionElements>
        <camunda:taskListener class="com.camunda.RabbitMQ.Enqueue" event="create">
          <camunda:field name="taskVariables">
            <camunda:expression>${taskVariables}</camunda:expression>
          </camunda:field>
        </camunda:taskListener>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1oiv0bp</bpmn:incoming>
      <bpmn:outgoing>Flow_0uafxsf</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:serviceTask id="Activity_1achj0m" name="API GET Detail Form">
      <bpmn:extensionElements>
        <camunda:connector>
          <camunda:inputOutput>
            <camunda:inputParameter name="url">${metaRESTApi}/api/metadata/GetByDefId?defid=${formDefId}</camunda:inputParameter>
            <camunda:inputParameter name="method">GET</camunda:inputParameter>
            <camunda:inputParameter name="headers">
              <camunda:map>
                <camunda:entry key="Content-Type">application/json</camunda:entry>
              </camunda:map>
            </camunda:inputParameter>
            <camunda:outputParameter name="form">
              <camunda:script scriptFormat="Javascript">S(response).prop("data").toString()</camunda:script>
            </camunda:outputParameter>
          </camunda:inputOutput>
          <camunda:connectorId>http-connector</camunda:connectorId>
        </camunda:connector>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0r177dk</bpmn:incoming>
      <bpmn:outgoing>Flow_01ifbdf</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="Flow_0r177dk" sourceRef="Activity_0nhvl7r" targetRef="Activity_1achj0m" />
    <bpmn:sequenceFlow id="Flow_01ifbdf" sourceRef="Activity_1achj0m" targetRef="Activity_01ikuk6" />
    <bpmn:sequenceFlow id="Flow_1oiv0bp" sourceRef="Activity_01ikuk6" targetRef="Activity_1y894g1" />
    <bpmn:scriptTask id="Activity_1mvh4d5" name="DEF Variables" scriptFormat="Javascript" camunda:resultVariable="taskType">
      <bpmn:incoming>Flow_0x8t51l</bpmn:incoming>
      <bpmn:outgoing>Flow_0ktnpa4</bpmn:outgoing>
      <bpmn:script>execution.setVariable("page", "1")
execution.setVariable("size", "10")
execution.setVariable("totalCount", "10")
execution.setVariable("docId", "af954eda-d948-452c-af66-c93004cf4f81")
execution.setVariable("appId", "af954eda-d948-452c-af66-c93004cf4f81")
execution.setVariable("searchBody", "{}")
execution.setVariable("totalCount", 10)
execution.setVariable("taskType", "showAppStateViewForm")
execution.setVariable("formDefId", "888bba55-2281-4388-a1fc-ee890154ac7d")
execution.setVariable("buttons", "AppStateButtons")
execution.setVariable("gridFormDefId", "null")
execution.setVariable("docList", "null")
execution.setVariable("gridForm", "null")
execution.setVariable("gridFormButtons", "null")
execution.setVariable("tableFormButtons", "null")
execution.setVariable("userAction", "null")
execution.setVariable("formType", "edit")</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:sequenceFlow id="Flow_0ktnpa4" sourceRef="Activity_1mvh4d5" targetRef="Activity_0nhvl7r" />
    <bpmn:sequenceFlow id="Flow_0x8t51l" sourceRef="Event_1g2bu8t" targetRef="Activity_1mvh4d5" />
    <bpmn:userTask id="Activity_03sv6p2">
      <bpmn:incoming>Flow_1x860l7</bpmn:incoming>
      <bpmn:incoming>Flow_1fgkjgv</bpmn:incoming>
      <bpmn:incoming>Flow_0di34ar</bpmn:incoming>
      <bpmn:outgoing>Flow_1rv47ts</bpmn:outgoing>
      <bpmn:outgoing>Flow_1cm74u2</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:scriptTask id="Activity_1tdgg2k" name="Variables" scriptFormat="Javascript">
      <bpmn:incoming>Flow_1du9htf</bpmn:incoming>
      <bpmn:outgoing>Flow_10vexnr</bpmn:outgoing>
      <bpmn:script>execution.setVariable("taskType", "showFamMemberCreateForm")
execution.setVariable("formDefId", "5387ba50-eb84-4cb9-9fdb-02a7ad88676c")
execution.setVariable("buttons", "FamMemSaveFormBtn")
execution.setVariable("gridFormDefId", "null")
execution.setVariable("docList", "null")
execution.setVariable("gridForm", "null")
execution.setVariable("gridFormButtons", "null")
execution.setVariable("tableFormButtons", "null")
execution.setVariable("userAction", "null")
execution.setVariable("formType", "edit")

var person = {
"name": "Person", 
"type": "Doc", 
"value": personId
}
var attrs = S(emptyDoc).prop("attributes").append(person)

var newSelDoc = S(emptyDoc).prop("attributes", attrs)
execution.setVariable("selectedDoc", newSelDoc.toString())</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:serviceTask id="Activity_0xkhrjk" name="API GET Detail Form">
      <bpmn:extensionElements>
        <camunda:connector>
          <camunda:inputOutput>
            <camunda:inputParameter name="url">${metaRESTApi}/api/metadata/GetByDefId?defid=${formDefId}</camunda:inputParameter>
            <camunda:inputParameter name="method">GET</camunda:inputParameter>
            <camunda:inputParameter name="headers">
              <camunda:map>
                <camunda:entry key="Content-Type">application/json</camunda:entry>
              </camunda:map>
            </camunda:inputParameter>
            <camunda:outputParameter name="form">
              <camunda:script scriptFormat="Javascript">S(response).prop("data").toString()</camunda:script>
            </camunda:outputParameter>
          </camunda:inputOutput>
          <camunda:connectorId>http-connector</camunda:connectorId>
        </camunda:connector>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_10vexnr</bpmn:incoming>
      <bpmn:outgoing>Flow_1vg7to2</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:scriptTask id="Activity_1g8rl73" name="Task" scriptFormat="Javascript">
      <bpmn:incoming>Flow_1vg7to2</bpmn:incoming>
      <bpmn:outgoing>Flow_1c32763</bpmn:outgoing>
      <bpmn:script>var variables = {
session_id : user_session_id,
taskType: taskType,
selectedDoc: selectedDoc,
process_id: process_id,
formType: formType,
userAction: userAction,
docList: docList,
buttons: buttons,
size: size,
page: page,
userRole: userRole,
tabLabel: tabLabel,
userId: userId,
docId: docId,
gridFormButtons: gridFormButtons,
tableFormButtons: tableFormButtons,
form: form,
gridForm: gridForm,
totalCount: totalCount
}
execution.setVariable("taskVariables", JSON.stringify(variables))</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:userTask id="Activity_1k754er" name="SHOW FamMemberCreateForm">
      <bpmn:extensionElements>
        <camunda:taskListener class="com.camunda.RabbitMQ.Enqueue" event="create">
          <camunda:field name="taskVariables">
            <camunda:expression>${taskVariables}</camunda:expression>
          </camunda:field>
        </camunda:taskListener>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1c32763</bpmn:incoming>
      <bpmn:outgoing>Flow_16uss9x</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="Flow_10vexnr" sourceRef="Activity_1tdgg2k" targetRef="Activity_0xkhrjk" />
    <bpmn:sequenceFlow id="Flow_1vg7to2" sourceRef="Activity_0xkhrjk" targetRef="Activity_1g8rl73" />
    <bpmn:sequenceFlow id="Flow_1c32763" sourceRef="Activity_1g8rl73" targetRef="Activity_1k754er" />
    <bpmn:sequenceFlow id="Flow_19mq0rh" name="saveFamMemDoc" sourceRef="Gateway_1p7s6iv" targetRef="Activity_15wuiz0">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">#{userAction  == "saveFamMemDoc" }</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:exclusiveGateway id="Gateway_1p7s6iv">
      <bpmn:incoming>Flow_16uss9x</bpmn:incoming>
      <bpmn:incoming>Flow_0nqvrg0</bpmn:incoming>
      <bpmn:incoming>Flow_083cc5b</bpmn:incoming>
      <bpmn:outgoing>Flow_19mq0rh</bpmn:outgoing>
      <bpmn:outgoing>Flow_1479krh</bpmn:outgoing>
      <bpmn:outgoing>Flow_0gl1s21</bpmn:outgoing>
      <bpmn:outgoing>Flow_1ioqg40</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:serviceTask id="Activity_15wuiz0" name="Create document">
      <bpmn:extensionElements>
        <camunda:connector>
          <camunda:inputOutput>
            <camunda:inputParameter name="payload">${document}</camunda:inputParameter>
            <camunda:inputParameter name="url">${asistRESTApi}/ASIST-MODERN-API/api/Document/SaveFamilyMember?appStateId=${appStateId}&amp;userId=${userId}</camunda:inputParameter>
            <camunda:inputParameter name="method">POST</camunda:inputParameter>
            <camunda:inputParameter name="headers">
              <camunda:map>
                <camunda:entry key="Content-Type">application/json</camunda:entry>
              </camunda:map>
            </camunda:inputParameter>
            <camunda:outputParameter name="saveDocRes">
              <camunda:script scriptFormat="Javascript">S(response)</camunda:script>
            </camunda:outputParameter>
          </camunda:inputOutput>
          <camunda:connectorId>http-connector</camunda:connectorId>
        </camunda:connector>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_19mq0rh</bpmn:incoming>
      <bpmn:outgoing>Flow_1x860l7</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="Flow_1x860l7" sourceRef="Activity_15wuiz0" targetRef="Activity_03sv6p2" />
    <bpmn:sequenceFlow id="Flow_16uss9x" sourceRef="Activity_1k754er" targetRef="Gateway_1p7s6iv" />
    <bpmn:sequenceFlow id="Flow_1rv47ts" sourceRef="Activity_03sv6p2" targetRef="Event_1ek40k1" />
    <bpmn:sequenceFlow id="Flow_1cm74u2" sourceRef="Activity_03sv6p2" targetRef="Activity_1hme9no" />
    <bpmn:scriptTask id="Activity_1aftlce" name="Variables" scriptFormat="Javascript">
      <bpmn:incoming>Flow_1smslgg</bpmn:incoming>
      <bpmn:outgoing>Flow_1mdvb2e</bpmn:outgoing>
      <bpmn:script>execution.setVariable("taskType", "showAppStateViewForm")
execution.setVariable("formDefId", "888bba55-2281-4388-a1fc-ee890154ac7d")
execution.setVariable("buttons", "AppStateButtons")
execution.setVariable("gridFormDefId", "null")
execution.setVariable("docList", "null")
execution.setVariable("gridForm", "null")
execution.setVariable("gridFormButtons", "null")
execution.setVariable("tableFormButtons", "null")
execution.setVariable("userAction", "null")
execution.setVariable("formType", "view")
//execution.setVariable("docId", "docId")
//execution.setVariable("appId", "appId")</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:sequenceFlow id="Flow_1mdvb2e" sourceRef="Activity_1aftlce" targetRef="Activity_1guc4vi" />
    <bpmn:endEvent id="Event_18pbqyj">
      <bpmn:incoming>Flow_1479krh</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="Flow_1479krh" name="cancel" sourceRef="Gateway_1p7s6iv" targetRef="Event_18pbqyj">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">#{userAction  == "cancel" }</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:userTask id="Activity_1nzk073" />
    <bpmn:callActivity id="Activity_0zdimd3" name="CreatePersonProcess" calledElement="process_08513c7f-90d4-490e-a8ae-ccb8b75d673f">
      <bpmn:extensionElements>
        <camunda:in variables="all" />
        <camunda:out source="personId" target="personId" />
        <camunda:out source="emptyDoc" target="emptyDoc" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0s0jn4k</bpmn:incoming>
      <bpmn:incoming>Flow_1vfgcun</bpmn:incoming>
      <bpmn:outgoing>Flow_1hovsmj</bpmn:outgoing>
    </bpmn:callActivity>
    <bpmn:scriptTask id="Activity_1vthkx2" name="Variables" scriptFormat="Javascript">
      <bpmn:incoming>Flow_1hovsmj</bpmn:incoming>
      <bpmn:outgoing>Flow_1k2r8u0</bpmn:outgoing>
      <bpmn:script>execution.setVariable("taskType", "showLandPlotCreateForm")
execution.setVariable("formDefId", "1b196a9b-8527-4ff0-b0f2-1a715931a88c")
execution.setVariable("buttons", "LandPlotSaveFormBtn")
execution.setVariable("gridFormDefId", "null")
execution.setVariable("docList", "null")
execution.setVariable("gridForm", "null")
execution.setVariable("gridFormButtons", "null")
execution.setVariable("tableFormButtons", "null")
execution.setVariable("userAction", "null")
execution.setVariable("formType", "edit")

var person = {
"name": "Person", 
"type": "Doc", 
"value": personId
}
var attrs = S(emptyDoc).prop("attributes").append(person)

var newSelDoc = S(emptyDoc).prop("attributes", attrs)
execution.setVariable("selectedDoc", newSelDoc.toString())</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:serviceTask id="Activity_1oz1x63" name="API GET Detail Form">
      <bpmn:extensionElements>
        <camunda:connector>
          <camunda:inputOutput>
            <camunda:inputParameter name="url">${metaRESTApi}/api/metadata/GetByDefId?defid=${formDefId}</camunda:inputParameter>
            <camunda:inputParameter name="method">GET</camunda:inputParameter>
            <camunda:inputParameter name="headers">
              <camunda:map>
                <camunda:entry key="Content-Type">application/json</camunda:entry>
              </camunda:map>
            </camunda:inputParameter>
            <camunda:outputParameter name="form">
              <camunda:script scriptFormat="Javascript">S(response).prop("data").toString()</camunda:script>
            </camunda:outputParameter>
          </camunda:inputOutput>
          <camunda:connectorId>http-connector</camunda:connectorId>
        </camunda:connector>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1k2r8u0</bpmn:incoming>
      <bpmn:outgoing>Flow_0yse7eg</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:scriptTask id="Activity_1mivdxu" name="Task" scriptFormat="Javascript">
      <bpmn:incoming>Flow_0yse7eg</bpmn:incoming>
      <bpmn:outgoing>Flow_1xt22f8</bpmn:outgoing>
      <bpmn:script>var variables = {
session_id : user_session_id,
taskType: taskType,
selectedDoc: selectedDoc,
process_id: process_id,
formType: formType,
userAction: userAction,
docList: docList,
buttons: buttons,
size: size,
page: page,
userRole: userRole,
tabLabel: tabLabel,
userId: userId,
docId: docId,
gridFormButtons: gridFormButtons,
tableFormButtons: tableFormButtons,
form: form,
gridForm: gridForm,
totalCount: totalCount
}
execution.setVariable("taskVariables", JSON.stringify(variables))</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:userTask id="Activity_1lmc3gb" name="SHOW LandPlotCreateForm">
      <bpmn:extensionElements>
        <camunda:taskListener class="com.camunda.RabbitMQ.Enqueue" event="create">
          <camunda:field name="taskVariables">
            <camunda:expression>${taskVariables}</camunda:expression>
          </camunda:field>
        </camunda:taskListener>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1xt22f8</bpmn:incoming>
      <bpmn:outgoing>Flow_0nqvrg0</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="Flow_1hovsmj" sourceRef="Activity_0zdimd3" targetRef="Activity_1vthkx2" />
    <bpmn:sequenceFlow id="Flow_1k2r8u0" sourceRef="Activity_1vthkx2" targetRef="Activity_1oz1x63" />
    <bpmn:sequenceFlow id="Flow_0yse7eg" sourceRef="Activity_1oz1x63" targetRef="Activity_1mivdxu" />
    <bpmn:sequenceFlow id="Flow_1xt22f8" sourceRef="Activity_1mivdxu" targetRef="Activity_1lmc3gb" />
    <bpmn:sequenceFlow id="Flow_0s0jn4k" sourceRef="Gateway_182kbbe" targetRef="Activity_0zdimd3" />
    <bpmn:sequenceFlow id="Flow_0gl1s21" name="saveLandPlotDoc" sourceRef="Gateway_1p7s6iv" targetRef="Activity_197orrp">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">#{userAction  == "saveLandPlotDoc" }</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:exclusiveGateway id="Gateway_08vkg2k">
      <bpmn:incoming>Flow_0uafxsf</bpmn:incoming>
      <bpmn:outgoing>Flow_1vfgcun</bpmn:outgoing>
      <bpmn:outgoing>Flow_1bd9sou</bpmn:outgoing>
      <bpmn:outgoing>Flow_1m2yn8a</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_1vfgcun" name="createLandPlotDoc" sourceRef="Gateway_08vkg2k" targetRef="Activity_0zdimd3">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">#{userAction  == "createLandPlotDoc" }</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0uafxsf" sourceRef="Activity_1y894g1" targetRef="Gateway_08vkg2k" />
    <bpmn:sequenceFlow id="Flow_1bd9sou" name="cancel" sourceRef="Gateway_08vkg2k" targetRef="Event_13vbi7s">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">#{userAction  == "cancel" }</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0nqvrg0" sourceRef="Activity_1lmc3gb" targetRef="Gateway_1p7s6iv" />
    <bpmn:serviceTask id="Activity_197orrp" name="Create document">
      <bpmn:extensionElements>
        <camunda:connector>
          <camunda:inputOutput>
            <camunda:inputParameter name="payload">${document}</camunda:inputParameter>
            <camunda:inputParameter name="url">${asistRESTApi}/ASIST-MODERN-API/api/Document/SaveLandAndPlot?appStateId=${appStateId}&amp;userId=${userId}</camunda:inputParameter>
            <camunda:inputParameter name="method">POST</camunda:inputParameter>
            <camunda:inputParameter name="headers">
              <camunda:map>
                <camunda:entry key="Content-Type">application/json</camunda:entry>
              </camunda:map>
            </camunda:inputParameter>
            <camunda:outputParameter name="saveDocRes">
              <camunda:script scriptFormat="Javascript">S(response)</camunda:script>
            </camunda:outputParameter>
          </camunda:inputOutput>
          <camunda:connectorId>http-connector</camunda:connectorId>
        </camunda:connector>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0gl1s21</bpmn:incoming>
      <bpmn:outgoing>Flow_1fgkjgv</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="Flow_1fgkjgv" sourceRef="Activity_197orrp" targetRef="Activity_03sv6p2" />
    <bpmn:callActivity id="Activity_1yxajm6" name="CreatePersonProcess" calledElement="process_08513c7f-90d4-490e-a8ae-ccb8b75d673f">
      <bpmn:extensionElements>
        <camunda:in variables="all" />
        <camunda:out source="personId" target="personId" />
        <camunda:out source="emptyDoc" target="emptyDoc" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1m2yn8a</bpmn:incoming>
      <bpmn:outgoing>Flow_05f7cc2</bpmn:outgoing>
    </bpmn:callActivity>
    <bpmn:scriptTask id="Activity_1m5b0tr" name="Variables" scriptFormat="Javascript">
      <bpmn:incoming>Flow_05f7cc2</bpmn:incoming>
      <bpmn:outgoing>Flow_0t8t1gr</bpmn:outgoing>
      <bpmn:script>execution.setVariable("taskType", "showIncomeCreateForm")
execution.setVariable("formDefId", "4e302afb-6089-4eaa-b86c-6215dd8e7407")
execution.setVariable("buttons", "IncomeSaveFormBtn")
execution.setVariable("gridFormDefId", "null")
execution.setVariable("docList", "null")
execution.setVariable("gridForm", "null")
execution.setVariable("gridFormButtons", "null")
execution.setVariable("tableFormButtons", "null")
execution.setVariable("userAction", "null")
execution.setVariable("formType", "edit")

var person = {
"name": "Person", 
"type": "Doc", 
"value": personId
}
var attrs = S(emptyDoc).prop("attributes").append(person)

var newSelDoc = S(emptyDoc).prop("attributes", attrs)
execution.setVariable("selectedDoc", newSelDoc.toString())</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:serviceTask id="Activity_0em3w4n" name="API GET Detail Form">
      <bpmn:extensionElements>
        <camunda:connector>
          <camunda:inputOutput>
            <camunda:inputParameter name="url">${metaRESTApi}/api/metadata/GetByDefId?defid=${formDefId}</camunda:inputParameter>
            <camunda:inputParameter name="method">GET</camunda:inputParameter>
            <camunda:inputParameter name="headers">
              <camunda:map>
                <camunda:entry key="Content-Type">application/json</camunda:entry>
              </camunda:map>
            </camunda:inputParameter>
            <camunda:outputParameter name="form">
              <camunda:script scriptFormat="Javascript">S(response).prop("data").toString()</camunda:script>
            </camunda:outputParameter>
          </camunda:inputOutput>
          <camunda:connectorId>http-connector</camunda:connectorId>
        </camunda:connector>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0t8t1gr</bpmn:incoming>
      <bpmn:outgoing>Flow_0x4vwuf</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:scriptTask id="Activity_0khkvu5" name="Task" scriptFormat="Javascript">
      <bpmn:incoming>Flow_0x4vwuf</bpmn:incoming>
      <bpmn:outgoing>Flow_0xyb0lz</bpmn:outgoing>
      <bpmn:script>var variables = {
session_id : user_session_id,
taskType: taskType,
selectedDoc: selectedDoc,
process_id: process_id,
formType: formType,
userAction: userAction,
docList: docList,
buttons: buttons,
size: size,
page: page,
userRole: userRole,
tabLabel: tabLabel,
userId: userId,
docId: docId,
gridFormButtons: gridFormButtons,
tableFormButtons: tableFormButtons,
form: form,
gridForm: gridForm,
totalCount: totalCount
}
execution.setVariable("taskVariables", JSON.stringify(variables))</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:userTask id="Activity_156qtwk" name="SHOW IncomeCreateForm">
      <bpmn:extensionElements>
        <camunda:taskListener class="com.camunda.RabbitMQ.Enqueue" event="create">
          <camunda:field name="taskVariables">
            <camunda:expression>${taskVariables}</camunda:expression>
          </camunda:field>
        </camunda:taskListener>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0xyb0lz</bpmn:incoming>
      <bpmn:outgoing>Flow_083cc5b</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="Flow_05f7cc2" sourceRef="Activity_1yxajm6" targetRef="Activity_1m5b0tr" />
    <bpmn:sequenceFlow id="Flow_0t8t1gr" sourceRef="Activity_1m5b0tr" targetRef="Activity_0em3w4n" />
    <bpmn:sequenceFlow id="Flow_0x4vwuf" sourceRef="Activity_0em3w4n" targetRef="Activity_0khkvu5" />
    <bpmn:sequenceFlow id="Flow_0xyb0lz" sourceRef="Activity_0khkvu5" targetRef="Activity_156qtwk" />
    <bpmn:sequenceFlow id="Flow_1m2yn8a" name="createIncomeDoc" sourceRef="Gateway_08vkg2k" targetRef="Activity_1yxajm6">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">#{userAction  == "createIncomeDoc" }</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_083cc5b" sourceRef="Activity_156qtwk" targetRef="Gateway_1p7s6iv" />
    <bpmn:serviceTask id="Activity_08739ng" name="Create document">
      <bpmn:extensionElements>
        <camunda:connector>
          <camunda:inputOutput>
            <camunda:inputParameter name="payload">${document}</camunda:inputParameter>
            <camunda:inputParameter name="url">${asistRESTApi}/ASIST-MODERN-API/api/Document/SaveIncome?appStateId=${appStateId}&amp;userId=${userId}</camunda:inputParameter>
            <camunda:inputParameter name="method">POST</camunda:inputParameter>
            <camunda:inputParameter name="headers">
              <camunda:map>
                <camunda:entry key="Content-Type">application/json</camunda:entry>
              </camunda:map>
            </camunda:inputParameter>
            <camunda:outputParameter name="saveDocRes">
              <camunda:script scriptFormat="Javascript">S(response)</camunda:script>
            </camunda:outputParameter>
          </camunda:inputOutput>
          <camunda:connectorId>http-connector</camunda:connectorId>
        </camunda:connector>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1ioqg40</bpmn:incoming>
      <bpmn:outgoing>Flow_0di34ar</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="Flow_1ioqg40" name="saveIncomeDoc" sourceRef="Gateway_1p7s6iv" targetRef="Activity_08739ng">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">#{userAction  == "saveIncomeDoc" }</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0di34ar" sourceRef="Activity_08739ng" targetRef="Activity_03sv6p2" />
  </bpmn:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="process_22d2b2bf-ce8d-41d3-9b97-5bd8b112f2ce">
      <bpmndi:BPMNEdge id="Flow_1cm74u2_di" bpmnElement="Flow_1cm74u2">
        <di:waypoint x="3370" y="450" />
        <di:waypoint x="3370" y="580" />
        <di:waypoint x="3590" y="580" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1vfgcun_di" bpmnElement="Flow_1vfgcun">
        <di:waypoint x="2185" y="710" />
        <di:waypoint x="2320" y="714" />
        <di:waypoint x="2320" y="560" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2209" y="718" width="82" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1jc7g29_di" bpmnElement="Flow_1jc7g29" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="540" y="360" />
        <di:waypoint x="570" y="360" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1jvbbum_di" bpmnElement="Flow_1jvbbum" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="400" y="360" />
        <di:waypoint x="440" y="360" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_006qh8e_di" bpmnElement="Flow_006qh8e" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="260" y="360" />
        <di:waypoint x="300" y="360" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_13gcxa1_di" bpmnElement="Flow_13gcxa1" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="1720" y="360" />
        <di:waypoint x="1755" y="360" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1jwemx1_di" bpmnElement="Flow_1jwemx1" bioc:stroke="rgb(30, 136, 229)" bioc:fill="rgb(187, 222, 251)">
        <di:waypoint x="1805" y="360" />
        <di:waypoint x="1850" y="360" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1807" y="323" width="23" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_12qeh7a_di" bpmnElement="Flow_12qeh7a" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="1580" y="360" />
        <di:waypoint x="1620" y="360" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1iwywtn_di" bpmnElement="Flow_1iwywtn" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="1780" y="385" />
        <di:waypoint x="1780" y="440" />
        <di:waypoint x="400" y="440" />
        <di:waypoint x="400" y="470" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1727" y="416" width="18" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_01i84jq_di" bpmnElement="Flow_01i84jq" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="1435" y="360" />
        <di:waypoint x="1480" y="360" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1437" y="333" width="22" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1abdadr_di" bpmnElement="Flow_1abdadr" bioc:stroke="rgb(229, 57, 53)" bioc:fill="rgb(255, 205, 210)">
        <di:waypoint x="1410" y="335" />
        <di:waypoint x="1410" y="268" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1373" y="293" width="33" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1womaw9_di" bpmnElement="Flow_1womaw9" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="1350" y="360" />
        <di:waypoint x="1385" y="360" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1bdpfy4_di" bpmnElement="Flow_1bdpfy4" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="1220" y="360" />
        <di:waypoint x="1250" y="360" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_09ios1f_di" bpmnElement="Flow_09ios1f" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="1090" y="360" />
        <di:waypoint x="1120" y="360" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_02hgkgd_di" bpmnElement="Flow_02hgkgd" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="950" y="360" />
        <di:waypoint x="990" y="360" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0c710jx_di" bpmnElement="Flow_0c710jx" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="810" y="360" />
        <di:waypoint x="850" y="360" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0qij95u_di" bpmnElement="Flow_0qij95u" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="670" y="360" />
        <di:waypoint x="710" y="360" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0r5dk6r_di" bpmnElement="Flow_0r5dk6r" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="450" y="510" />
        <di:waypoint x="480" y="510" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1qk78kd_di" bpmnElement="Flow_1qk78kd" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="580" y="510" />
        <di:waypoint x="610" y="510" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1ofo96f_di" bpmnElement="Flow_1ofo96f" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="710" y="510" />
        <di:waypoint x="740" y="510" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1oufk97_di" bpmnElement="Flow_1oufk97" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="840" y="510" />
        <di:waypoint x="885" y="510" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1gnmd65_di" bpmnElement="Flow_1gnmd65" bioc:stroke="rgb(229, 57, 53)" bioc:fill="rgb(255, 205, 210)">
        <di:waypoint x="910" y="535" />
        <di:waypoint x="910" y="600" />
        <di:waypoint x="2145" y="600" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1722" y="610" width="33" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1d7y8ba_di" bpmnElement="Flow_1d7y8ba" bioc:stroke="rgb(229, 57, 53)" bioc:fill="rgb(255, 205, 210)">
        <di:waypoint x="2160" y="535" />
        <di:waypoint x="2160" y="572" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2133" y="558" width="33" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1i3tws5_di" bpmnElement="Flow_1i3tws5" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="935" y="510" />
        <di:waypoint x="1010" y="510" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="915" y="523" width="89" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0sdztsv_di" bpmnElement="Flow_0sdztsv" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="1110" y="510" />
        <di:waypoint x="1150" y="510" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1mdvb2e_di" bpmnElement="Flow_1mdvb2e" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="1520" y="510" />
        <di:waypoint x="1570" y="510" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1r52kkw_di" bpmnElement="Flow_1r52kkw" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="1670" y="510" />
        <di:waypoint x="1710" y="510" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1kjjmwe_di" bpmnElement="Flow_1kjjmwe" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="1810" y="510" />
        <di:waypoint x="1850" y="510" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1czpvuy_di" bpmnElement="Flow_1czpvuy" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="1950" y="510" />
        <di:waypoint x="1990" y="510" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_19r9dtd_di" bpmnElement="Flow_19r9dtd" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="2090" y="510" />
        <di:waypoint x="2135" y="510" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1e5wtb7_di" bpmnElement="Flow_1e5wtb7" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="1250" y="510" />
        <di:waypoint x="1280" y="510" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1smslgg_di" bpmnElement="Flow_1smslgg" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="1380" y="510" />
        <di:waypoint x="1420" y="510" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0aogij0_di" bpmnElement="Flow_0aogij0" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="2160" y="485" />
        <di:waypoint x="2160" y="410" />
        <di:waypoint x="2270" y="410" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2173" y="383" width="76" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1479krh_di" bpmnElement="Flow_1479krh" bioc:stroke="rgb(229, 57, 53)" bioc:fill="rgb(255, 205, 210)">
        <di:waypoint x="3025" y="470" />
        <di:waypoint x="3082" y="470" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="3033" y="483" width="33" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1rv47ts_di" bpmnElement="Flow_1rv47ts">
        <di:waypoint x="3420" y="410" />
        <di:waypoint x="3462" y="410" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1du9htf_di" bpmnElement="Flow_1du9htf" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="2370" y="410" />
        <di:waypoint x="2410" y="410" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1x860l7_di" bpmnElement="Flow_1x860l7" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="3210" y="410" />
        <di:waypoint x="3320" y="410" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_10vexnr_di" bpmnElement="Flow_10vexnr" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="2510" y="410" />
        <di:waypoint x="2540" y="410" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1vg7to2_di" bpmnElement="Flow_1vg7to2" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="2640" y="410" />
        <di:waypoint x="2670" y="410" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1c32763_di" bpmnElement="Flow_1c32763" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="2770" y="410" />
        <di:waypoint x="2800" y="410" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_16uss9x_di" bpmnElement="Flow_16uss9x" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="2900" y="410" />
        <di:waypoint x="2940" y="410" />
        <di:waypoint x="2988" y="458" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_19mq0rh_di" bpmnElement="Flow_19mq0rh" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="3000" y="445" />
        <di:waypoint x="3000" y="410" />
        <di:waypoint x="3110" y="410" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="3005" y="393" width="90" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1hovsmj_di" bpmnElement="Flow_1hovsmj" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="2370" y="520" />
        <di:waypoint x="2410" y="520" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1k2r8u0_di" bpmnElement="Flow_1k2r8u0" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="2510" y="520" />
        <di:waypoint x="2540" y="520" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0yse7eg_di" bpmnElement="Flow_0yse7eg" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="2640" y="520" />
        <di:waypoint x="2670" y="520" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1xt22f8_di" bpmnElement="Flow_1xt22f8" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="2770" y="520" />
        <di:waypoint x="2800" y="520" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0s0jn4k_di" bpmnElement="Flow_0s0jn4k" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="2185" y="510" />
        <di:waypoint x="2270" y="510" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0gl1s21_di" bpmnElement="Flow_0gl1s21" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="3000" y="495" />
        <di:waypoint x="3000" y="590" />
        <di:waypoint x="3110" y="590" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="3017" y="536" width="87" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0uafxsf_di" bpmnElement="Flow_0uafxsf">
        <di:waypoint x="1910" y="710" />
        <di:waypoint x="2135" y="710" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1bd9sou_di" bpmnElement="Flow_1bd9sou">
        <di:waypoint x="2160" y="685" />
        <di:waypoint x="2160" y="608" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2033" y="725" width="33" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0nqvrg0_di" bpmnElement="Flow_0nqvrg0">
        <di:waypoint x="2900" y="520" />
        <di:waypoint x="2938" y="520" />
        <di:waypoint x="2938" y="470" />
        <di:waypoint x="2975" y="470" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1fgkjgv_di" bpmnElement="Flow_1fgkjgv">
        <di:waypoint x="3210" y="608" />
        <di:waypoint x="3265" y="608" />
        <di:waypoint x="3265" y="410" />
        <di:waypoint x="3320" y="410" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0x8t51l_di" bpmnElement="Flow_0x8t51l" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="1188" y="710" />
        <di:waypoint x="1240" y="710" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0ktnpa4_di" bpmnElement="Flow_0ktnpa4" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="1340" y="710" />
        <di:waypoint x="1390" y="710" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0r177dk_di" bpmnElement="Flow_0r177dk" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="1490" y="710" />
        <di:waypoint x="1530" y="710" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_01ifbdf_di" bpmnElement="Flow_01ifbdf" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="1630" y="710" />
        <di:waypoint x="1670" y="710" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1oiv0bp_di" bpmnElement="Flow_1oiv0bp" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="1770" y="710" />
        <di:waypoint x="1810" y="710" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_05f7cc2_di" bpmnElement="Flow_05f7cc2" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="2370" y="820" />
        <di:waypoint x="2410" y="820" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0t8t1gr_di" bpmnElement="Flow_0t8t1gr" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="2510" y="820" />
        <di:waypoint x="2540" y="820" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0x4vwuf_di" bpmnElement="Flow_0x4vwuf" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="2640" y="820" />
        <di:waypoint x="2670" y="820" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0xyb0lz_di" bpmnElement="Flow_0xyb0lz" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <di:waypoint x="2770" y="820" />
        <di:waypoint x="2800" y="820" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1m2yn8a_di" bpmnElement="Flow_1m2yn8a">
        <di:waypoint x="2160" y="735" />
        <di:waypoint x="2160" y="830" />
        <di:waypoint x="2270" y="830" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2133" y="780" width="87" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_083cc5b_di" bpmnElement="Flow_083cc5b">
        <di:waypoint x="2862" y="780" />
        <di:waypoint x="2930" y="550" />
        <di:waypoint x="2988" y="483" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1ioqg40_di" bpmnElement="Flow_1ioqg40">
        <di:waypoint x="3000" y="495" />
        <di:waypoint x="3000" y="820" />
        <di:waypoint x="3110" y="820" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2975" y="655" width="80" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0di34ar_di" bpmnElement="Flow_0di34ar">
        <di:waypoint x="3210" y="820" />
        <di:waypoint x="3265" y="820" />
        <di:waypoint x="3346" y="450" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Activity_0yx6lyq_di" bpmnElement="Activity_0yx6lyq">
        <dc:Bounds x="570" y="320" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0n3sgd2_di" bpmnElement="Activity_0n3sgd2">
        <dc:Bounds x="710" y="320" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0fn457t_di" bpmnElement="Activity_0fn457t">
        <dc:Bounds x="990" y="320" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1g8eaen_di" bpmnElement="Activity_1g8eaen">
        <dc:Bounds x="1120" y="320" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1naobg1_di" bpmnElement="Activity_1naobg1">
        <dc:Bounds x="1250" y="320" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_17xqb5c_di" bpmnElement="Gateway_17xqb5c" isMarkerVisible="true" bioc:stroke="rgb(251, 140, 0)" bioc:fill="rgb(255, 224, 178)">
        <dc:Bounds x="1385" y="335" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1iwo1cm_di" bpmnElement="Event_1iwo1cm" bioc:stroke="rgb(229, 57, 53)" bioc:fill="rgb(255, 205, 210)">
        <dc:Bounds x="1392" y="232" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_19gtofp_di" bpmnElement="Activity_19gtofp">
        <dc:Bounds x="850" y="320" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0kny4si_di" bpmnElement="Activity_0kny4si">
        <dc:Bounds x="1480" y="320" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0mzi2km_di" bpmnElement="Activity_0mzi2km">
        <dc:Bounds x="1850" y="320" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1jp63po_di" bpmnElement="Gateway_1jp63po" isMarkerVisible="true" bioc:stroke="rgb(251, 140, 0)" bioc:fill="rgb(255, 224, 178)">
        <dc:Bounds x="1755" y="335" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0yqiaen_di" bpmnElement="Activity_0yqiaen">
        <dc:Bounds x="1620" y="320" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1y2lmuw_di" bpmnElement="Activity_1y2lmuw">
        <dc:Bounds x="160" y="320" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1av5v4u_di" bpmnElement="Activity_1av5v4u">
        <dc:Bounds x="300" y="320" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0r16w4x_di" bpmnElement="Activity_0r16w4x">
        <dc:Bounds x="440" y="320" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1t6kkxr_di" bpmnElement="Activity_1t6kkxr">
        <dc:Bounds x="350" y="470" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_16oi8l1_di" bpmnElement="Activity_16oi8l1">
        <dc:Bounds x="480" y="470" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1x5w43h_di" bpmnElement="Activity_1x5w43h">
        <dc:Bounds x="610" y="470" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_02fxrl3_di" bpmnElement="Activity_02fxrl3">
        <dc:Bounds x="740" y="470" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_13vbi7s_di" bpmnElement="Event_13vbi7s" bioc:stroke="rgb(229, 57, 53)" bioc:fill="rgb(255, 205, 210)">
        <dc:Bounds x="2142" y="572" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1tfndbr_di" bpmnElement="Gateway_1tfndbr" isMarkerVisible="true" bioc:stroke="rgb(251, 140, 0)" bioc:fill="rgb(255, 224, 178)">
        <dc:Bounds x="885" y="485" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_06ixvc6_di" bpmnElement="Activity_06ixvc6">
        <dc:Bounds x="1010" y="470" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1guc4vi_di" bpmnElement="Activity_1guc4vi">
        <dc:Bounds x="1570" y="470" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0qkglvb_di" bpmnElement="Activity_0qkglvb">
        <dc:Bounds x="1850" y="470" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0dluxgh_di" bpmnElement="Activity_0dluxgh">
        <dc:Bounds x="1990" y="470" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0wm6rbx_di" bpmnElement="Activity_0wm6rbx">
        <dc:Bounds x="1280" y="470" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1udfm5f_di" bpmnElement="Activity_1udfm5f">
        <dc:Bounds x="1710" y="470" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_182kbbe_di" bpmnElement="Gateway_182kbbe" isMarkerVisible="true" bioc:stroke="rgb(251, 140, 0)" bioc:fill="rgb(255, 224, 178)">
        <dc:Bounds x="2135" y="485" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1ywzxy4_di" bpmnElement="Activity_1ywzxy4">
        <dc:Bounds x="1150" y="470" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1aftlce_di" bpmnElement="Activity_1aftlce">
        <dc:Bounds x="1420" y="470" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1nzk073_di" bpmnElement="Activity_1nzk073">
        <dc:Bounds x="2670" y="80" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1ek40k1_di" bpmnElement="Event_1ek40k1">
        <dc:Bounds x="3462" y="392" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0katv3s_di" bpmnElement="Activity_0katv3s">
        <dc:Bounds x="2270" y="370" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1wqkj8t_di" bpmnElement="Activity_03sv6p2">
        <dc:Bounds x="3320" y="370" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1tdgg2k_di" bpmnElement="Activity_1tdgg2k">
        <dc:Bounds x="2410" y="370" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0xkhrjk_di" bpmnElement="Activity_0xkhrjk">
        <dc:Bounds x="2540" y="370" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1g8rl73_di" bpmnElement="Activity_1g8rl73">
        <dc:Bounds x="2670" y="370" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1k754er_di" bpmnElement="Activity_1k754er">
        <dc:Bounds x="2800" y="370" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_15wuiz0_di" bpmnElement="Activity_15wuiz0">
        <dc:Bounds x="3110" y="370" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0zdimd3_di" bpmnElement="Activity_0zdimd3">
        <dc:Bounds x="2270" y="480" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1vthkx2_di" bpmnElement="Activity_1vthkx2">
        <dc:Bounds x="2410" y="480" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1oz1x63_di" bpmnElement="Activity_1oz1x63">
        <dc:Bounds x="2540" y="480" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1mivdxu_di" bpmnElement="Activity_1mivdxu">
        <dc:Bounds x="2670" y="480" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1lmc3gb_di" bpmnElement="Activity_1lmc3gb">
        <dc:Bounds x="2800" y="480" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1p7s6iv_di" bpmnElement="Gateway_1p7s6iv" isMarkerVisible="true" bioc:stroke="rgb(251, 140, 0)" bioc:fill="rgb(255, 224, 178)">
        <dc:Bounds x="2975" y="445" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_18pbqyj_di" bpmnElement="Event_18pbqyj" bioc:stroke="rgb(229, 57, 53)" bioc:fill="rgb(255, 205, 210)">
        <dc:Bounds x="3082" y="452" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_197orrp_di" bpmnElement="Activity_197orrp">
        <dc:Bounds x="3110" y="568" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1g2bu8t_di" bpmnElement="Event_1g2bu8t" bioc:stroke="rgb(67, 160, 71)" bioc:fill="rgb(200, 230, 201)">
        <dc:Bounds x="1152" y="692" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0nhvl7r_di" bpmnElement="Activity_0nhvl7r">
        <dc:Bounds x="1390" y="670" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_01ikuk6_di" bpmnElement="Activity_01ikuk6">
        <dc:Bounds x="1670" y="670" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1y894g1_di" bpmnElement="Activity_1y894g1">
        <dc:Bounds x="1810" y="670" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1achj0m_di" bpmnElement="Activity_1achj0m">
        <dc:Bounds x="1530" y="670" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1mvh4d5_di" bpmnElement="Activity_1mvh4d5">
        <dc:Bounds x="1240" y="670" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_08vkg2k_di" bpmnElement="Gateway_08vkg2k" isMarkerVisible="true">
        <dc:Bounds x="2135" y="685" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1yxajm6_di" bpmnElement="Activity_1yxajm6">
        <dc:Bounds x="2270" y="780" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1m5b0tr_di" bpmnElement="Activity_1m5b0tr">
        <dc:Bounds x="2410" y="780" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0em3w4n_di" bpmnElement="Activity_0em3w4n">
        <dc:Bounds x="2540" y="780" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0khkvu5_di" bpmnElement="Activity_0khkvu5">
        <dc:Bounds x="2670" y="780" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_156qtwk_di" bpmnElement="Activity_156qtwk">
        <dc:Bounds x="2800" y="780" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_08739ng_di" bpmnElement="Activity_08739ng">
        <dc:Bounds x="3110" y="780" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1hme9no_di" bpmnElement="Activity_1hme9no">
        <dc:Bounds x="3590" y="540" width="100" height="80" />
      </bpmndi:BPMNShape>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
